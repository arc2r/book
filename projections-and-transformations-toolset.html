<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5.2 Projections and Transformations Toolset | Burning Bridges</title>
  <meta name="description" content="5.2 Projections and Transformations Toolset | Burning Bridges" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="5.2 Projections and Transformations Toolset | Burning Bridges" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5.2 Projections and Transformations Toolset | Burning Bridges" />
  
  
  

<meta name="author" content="Nils Ratnaweera" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="joins-toolset.html"/>
<link rel="next" href="spatial-analyst-toolbox.html"/>
<script src="libs/header-attrs-2.5/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.3/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.0.3/leaflet-providers-plugin.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Abstract</a></li>
<li class="chapter" data-level="2" data-path="foreword.html"><a href="foreword.html"><i class="fa fa-check"></i><b>2</b> Foreword</a></li>
<li class="chapter" data-level="3" data-path="making-maps.html"><a href="making-maps.html"><i class="fa fa-check"></i><b>3</b> Making Maps</a>
<ul>
<li class="chapter" data-level="3.1" data-path="making-static-maps.html"><a href="making-static-maps.html"><i class="fa fa-check"></i><b>3.1</b> Making Static Maps</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="making-static-maps.html"><a href="making-static-maps.html#static-maps-with-ggplot2"><i class="fa fa-check"></i><b>3.1.1</b> Static maps with <code>ggplot2</code></a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="making-interactive-maps.html"><a href="making-interactive-maps.html"><i class="fa fa-check"></i><b>3.2</b> Making Interactive Maps</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="making-interactive-maps.html"><a href="making-interactive-maps.html#introduction-to-tmap"><i class="fa fa-check"></i><b>3.2.1</b> Introduction to <code>tmap</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="basic-spatial-operations.html"><a href="basic-spatial-operations.html"><i class="fa fa-check"></i><b>4</b> Basic spatial operations</a>
<ul>
<li class="chapter" data-level="4.1" data-path="clip-operation.html"><a href="clip-operation.html"><i class="fa fa-check"></i><b>4.1</b> Clip operation</a></li>
<li class="chapter" data-level="4.2" data-path="merge-operation.html"><a href="merge-operation.html"><i class="fa fa-check"></i><b>4.2</b> Merge operation</a></li>
<li class="chapter" data-level="4.3" data-path="buffer-operation.html"><a href="buffer-operation.html"><i class="fa fa-check"></i><b>4.3</b> Buffer operation</a></li>
<li class="chapter" data-level="4.4" data-path="select-by-attribute.html"><a href="select-by-attribute.html"><i class="fa fa-check"></i><b>4.4</b> Select by Attribute</a></li>
<li class="chapter" data-level="4.5" data-path="select-by-location.html"><a href="select-by-location.html"><i class="fa fa-check"></i><b>4.5</b> Select by Location</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-management-toolbox.html"><a href="data-management-toolbox.html"><i class="fa fa-check"></i><b>5</b> Data Management Toolbox</a>
<ul>
<li class="chapter" data-level="5.1" data-path="joins-toolset.html"><a href="joins-toolset.html"><i class="fa fa-check"></i><b>5.1</b> Joins Toolset</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="joins-toolset.html"><a href="joins-toolset.html#inner-join"><i class="fa fa-check"></i><b>5.1.1</b> Inner join</a></li>
<li class="chapter" data-level="5.1.2" data-path="joins-toolset.html"><a href="joins-toolset.html#outer-join"><i class="fa fa-check"></i><b>5.1.2</b> Outer join</a></li>
<li class="chapter" data-level="5.1.3" data-path="joins-toolset.html"><a href="joins-toolset.html#left-right-join"><i class="fa fa-check"></i><b>5.1.3</b> Left / Right join</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="projections-and-transformations-toolset.html"><a href="projections-and-transformations-toolset.html"><i class="fa fa-check"></i><b>5.2</b> Projections and Transformations Toolset</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="projections-and-transformations-toolset.html"><a href="projections-and-transformations-toolset.html#reproject-vector-data-in-r"><i class="fa fa-check"></i><b>5.2.1</b> Reproject vector data in R</a></li>
<li class="chapter" data-level="5.2.2" data-path="projections-and-transformations-toolset.html"><a href="projections-and-transformations-toolset.html#reproject-raster-data-in-r"><i class="fa fa-check"></i><b>5.2.2</b> Reproject raster data in R</a></li>
<li class="chapter" data-level="5.2.3" data-path="projections-and-transformations-toolset.html"><a href="projections-and-transformations-toolset.html#generate-tessellation"><i class="fa fa-check"></i><b>5.2.3</b> Generate Tessellation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="spatial-analyst-toolbox.html"><a href="spatial-analyst-toolbox.html"><i class="fa fa-check"></i><b>6</b> Spatial Analyst Toolbox</a>
<ul>
<li class="chapter" data-level="6.1" data-path="conditional-toolset.html"><a href="conditional-toolset.html"><i class="fa fa-check"></i><b>6.1</b> Conditional Toolset</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="conditional-toolset.html"><a href="conditional-toolset.html#kernel-density"><i class="fa fa-check"></i><b>6.1.1</b> Kernel Density</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="reclass-toolset.html"><a href="reclass-toolset.html"><i class="fa fa-check"></i><b>6.2</b> Reclass Toolset</a></li>
<li class="chapter" data-level="6.3" data-path="surface-toolset.html"><a href="surface-toolset.html"><i class="fa fa-check"></i><b>6.3</b> Surface Toolset</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="surface-toolset.html"><a href="surface-toolset.html#slope-and-aspect"><i class="fa fa-check"></i><b>6.3.1</b> Slope and Aspect</a></li>
<li class="chapter" data-level="6.3.2" data-path="surface-toolset.html"><a href="surface-toolset.html#reclassify"><i class="fa fa-check"></i><b>6.3.2</b> Reclassify</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="d-analyst-toolbox.html"><a href="d-analyst-toolbox.html"><i class="fa fa-check"></i><b>7</b> 3D Analyst Toolbox</a>
<ul>
<li class="chapter" data-level="7.1" data-path="raster-interpolation-toolset.html"><a href="raster-interpolation-toolset.html"><i class="fa fa-check"></i><b>7.1</b> Raster Interpolation Toolset</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="raster-interpolation-toolset.html"><a href="raster-interpolation-toolset.html#idw"><i class="fa fa-check"></i><b>7.1.1</b> IDW</a></li>
<li class="chapter" data-level="7.1.2" data-path="raster-interpolation-toolset.html"><a href="raster-interpolation-toolset.html#kriging"><i class="fa fa-check"></i><b>7.1.2</b> Kriging</a></li>
<li class="chapter" data-level="7.1.3" data-path="raster-interpolation-toolset.html"><a href="raster-interpolation-toolset.html#natural-neighbor"><i class="fa fa-check"></i><b>7.1.3</b> Natural Neighbor</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="image-analysis-toolbox.html"><a href="image-analysis-toolbox.html"><i class="fa fa-check"></i><b>8</b> Image Analysis Toolbox</a>
<ul>
<li class="chapter" data-level="8.1" data-path="map-algebra-toolset.html"><a href="map-algebra-toolset.html"><i class="fa fa-check"></i><b>8.1</b> Map Algebra Toolset</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="map-algebra-toolset.html"><a href="map-algebra-toolset.html#raster-calulator"><i class="fa fa-check"></i><b>8.1.1</b> Raster Calulator</a></li>
<li class="chapter" data-level="8.1.2" data-path="map-algebra-toolset.html"><a href="map-algebra-toolset.html#focal-statistics"><i class="fa fa-check"></i><b>8.1.2</b> Focal Statistics</a></li>
<li class="chapter" data-level="8.1.3" data-path="map-algebra-toolset.html"><a href="map-algebra-toolset.html#zonal-statistics"><i class="fa fa-check"></i><b>8.1.3</b> Zonal Statistics</a></li>
<li class="chapter" data-level="8.1.4" data-path="map-algebra-toolset.html"><a href="map-algebra-toolset.html#zonal-statistics-1"><i class="fa fa-check"></i><b>8.1.4</b> Zonal Statistics</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="analysis-toolbox.html"><a href="analysis-toolbox.html"><i class="fa fa-check"></i><b>9</b> Analysis Toolbox</a>
<ul>
<li class="chapter" data-level="9.1" data-path="clip.html"><a href="clip.html"><i class="fa fa-check"></i><b>9.1</b> Clip</a></li>
<li class="chapter" data-level="9.2" data-path="merge.html"><a href="merge.html"><i class="fa fa-check"></i><b>9.2</b> Merge</a></li>
<li class="chapter" data-level="9.3" data-path="spatial-join.html"><a href="spatial-join.html"><i class="fa fa-check"></i><b>9.3</b> Spatial Join</a></li>
<li class="chapter" data-level="9.4" data-path="buffer.html"><a href="buffer.html"><i class="fa fa-check"></i><b>9.4</b> Buffer</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="topology-rules.html"><a href="topology-rules.html"><i class="fa fa-check"></i><b>10</b> Topology Rules</a>
<ul>
<li class="chapter" data-level="10.1" data-path="polygon.html"><a href="polygon.html"><i class="fa fa-check"></i><b>10.1</b> Polygon</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="polygon.html"><a href="polygon.html#must-not-overlap"><i class="fa fa-check"></i><b>10.1.1</b> Must not overlap</a></li>
<li class="chapter" data-level="10.1.2" data-path="polygon.html"><a href="polygon.html#must-not-have-gaps"><i class="fa fa-check"></i><b>10.1.2</b> Must not have gaps</a></li>
<li class="chapter" data-level="10.1.3" data-path="polygon.html"><a href="polygon.html#contains-point"><i class="fa fa-check"></i><b>10.1.3</b> Contains point</a></li>
<li class="chapter" data-level="10.1.4" data-path="polygon.html"><a href="polygon.html#contains-one-point"><i class="fa fa-check"></i><b>10.1.4</b> Contains one Point</a></li>
<li class="chapter" data-level="10.1.5" data-path="polygon.html"><a href="polygon.html#must-be-covered-by-feature-class-of"><i class="fa fa-check"></i><b>10.1.5</b> Must be covered by feature class of</a></li>
<li class="chapter" data-level="10.1.6" data-path="polygon.html"><a href="polygon.html#boundary-must-be-covered-by"><i class="fa fa-check"></i><b>10.1.6</b> Boundary must be covered by</a></li>
<li class="chapter" data-level="10.1.7" data-path="polygon.html"><a href="polygon.html#must-not-overlap-with"><i class="fa fa-check"></i><b>10.1.7</b> Must not overlap with</a></li>
<li class="chapter" data-level="10.1.8" data-path="polygon.html"><a href="polygon.html#must-be-covered-by"><i class="fa fa-check"></i><b>10.1.8</b> Must be covered by</a></li>
<li class="chapter" data-level="10.1.9" data-path="polygon.html"><a href="polygon.html#area-boundary-must-be-covered-by-boundary-of"><i class="fa fa-check"></i><b>10.1.9</b> Area boundary must be covered by boundary of</a></li>
<li class="chapter" data-level="10.1.10" data-path="polygon.html"><a href="polygon.html#must-cover-each-other"><i class="fa fa-check"></i><b>10.1.10</b> Must cover each other</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Burning Bridges</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="projections-and-transformations-toolset" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> Projections and Transformations Toolset</h2>
<p>Quite often in GIS, users found themselves before the necessity of transforming
(reprojecting) the coordinate system of a dataset (vector or raster). In fact this
is one of the most commonly used operations. In ArcGIS pro the aforementioned
action is performed using the following tools:</p>
<ul>
<li><code>Project (Data Management)</code> -&gt; Projects <strong>spatial data</strong> from one coordinate system to another.</li>
<li><code>Project Raster (Data Management)</code> -&gt; Transforms a <strong>raster dataset</strong> from one coordinate system to another.</li>
</ul>
<p>The question now is how we can perform similar operations with R.</p>
<div id="reproject-vector-data-in-r" class="section level3" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Reproject vector data in R</h3>
<p>For our example we will use the following dataset.</p>
<ul>
<li><strong>bezirke.gpkg</strong> -&gt; Dataset that depicts the Municipal structure in Switzerland</li>
</ul>
<p><strong>R</strong> and more specifically <strong>sf package</strong> offers options (functions) not only for
transforming the coordinate system of a dataset, but also for identifying the
current existing one. Let’s dive in :)</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="projections-and-transformations-toolset.html#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Importing the dataset</span></span>
<span id="cb91-2"><a href="projections-and-transformations-toolset.html#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb91-3"><a href="projections-and-transformations-toolset.html#cb91-3" aria-hidden="true" tabindex="-1"></a>bezirke <span class="ot">&lt;-</span> <span class="fu">read_sf</span>(<span class="st">&quot;sample_data/other/bezirke.gpkg&quot;</span>) </span></code></pre></div>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="projections-and-transformations-toolset.html#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualising the imported dataset</span></span>
<span id="cb92-2"><a href="projections-and-transformations-toolset.html#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb92-3"><a href="projections-and-transformations-toolset.html#cb92-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="at">data =</span> bezirke)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-55-1.png" width="672" /></p>
<p>In order to identify the current coordinate system of a dataset, <strong>sf package</strong>
offers the function <em>st_crs</em>. The main usage of the function is to retrieve the
coordinate reference system from an sf object.</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="projections-and-transformations-toolset.html#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># retrieving the coordinate of the imported layer</span></span>
<span id="cb93-2"><a href="projections-and-transformations-toolset.html#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="fu">st_crs</span>(bezirke)</span></code></pre></div>
<pre><code>## Coordinate Reference System: NA</code></pre>
<p>As an output we received that there is no assigned coordinate system to this
specific dataset. <em>st_set_crs</em> function helps us assigning a coordinate system
to a dataset.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="projections-and-transformations-toolset.html#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assigning the World Geodetic System (WGS84) as a coordinate system to our dataset</span></span>
<span id="cb95-2"><a href="projections-and-transformations-toolset.html#cb95-2" aria-hidden="true" tabindex="-1"></a>bezirke <span class="ot">&lt;-</span> <span class="fu">st_set_crs</span>(bezirke, <span class="dv">4326</span>)</span></code></pre></div>
<p>In the function above, the number 4326 represents the <strong>EPSG Geodetic Parameter Dataset (EPSG)</strong>
of the respective coordinate system. <strong>EPSG</strong> is a public registry of geodetic
datums, spatial reference systems, Earth ellipsoids, coordinate transformations
and related units of measurement.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="projections-and-transformations-toolset.html#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">st_crs</span>(bezirke)</span></code></pre></div>
<pre><code>## Coordinate Reference System:
##   User input: EPSG:4326 
##   wkt:
## GEOGCRS[&quot;WGS 84&quot;,
##     DATUM[&quot;World Geodetic System 1984&quot;,
##         ELLIPSOID[&quot;WGS 84&quot;,6378137,298.257223563,
##             LENGTHUNIT[&quot;metre&quot;,1]]],
##     PRIMEM[&quot;Greenwich&quot;,0,
##         ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##     CS[ellipsoidal,2],
##         AXIS[&quot;geodetic latitude (Lat)&quot;,north,
##             ORDER[1],
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##         AXIS[&quot;geodetic longitude (Lon)&quot;,east,
##             ORDER[2],
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##     USAGE[
##         SCOPE[&quot;unknown&quot;],
##         AREA[&quot;World&quot;],
##         BBOX[-90,-180,90,180]],
##     ID[&quot;EPSG&quot;,4326]]</code></pre>
<p>After rerunning the <em>st_crs</em> function, we are getting now that the assigned
coordinate system of the dataset is World Geodetic System (WGS84).<br />
As a next step, we might want to transform the dataset to the Swiss coordinate system.
The respective <strong>EPSG</strong> for code for the latest Swiss coordinate system
(CH1903+LV95) is 2056. For this purpose we use the <em>st_transform</em> function of the <strong>sf package</strong>.</p>
<p><span style="color:red"><strong>Important</strong></span></p>
<details>
<summary>
<strong>&gt; Click to expand!</strong>
</summary>
<em>st_set_crs</em> function <strong>does not</strong> reproject the coordinates of the given dataset. In
other words, it does not affect the actual <em>geometry</em> column of the sf object.
<em>st_tranform</em> on the other hand indeed <strong>does indeed reproject</strong> the dataset to another coordinate
system.
</details>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="projections-and-transformations-toolset.html#cb98-1" aria-hidden="true" tabindex="-1"></a>bezirke_swiss <span class="ot">&lt;-</span> <span class="fu">st_transform</span>(bezirke, <span class="dv">2056</span>)</span>
<span id="cb98-2"><a href="projections-and-transformations-toolset.html#cb98-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-3"><a href="projections-and-transformations-toolset.html#cb98-3" aria-hidden="true" tabindex="-1"></a><span class="co"># retrieve the coordinate system</span></span>
<span id="cb98-4"><a href="projections-and-transformations-toolset.html#cb98-4" aria-hidden="true" tabindex="-1"></a><span class="fu">st_crs</span>(bezirke_swiss)</span></code></pre></div>
<pre><code>## Coordinate Reference System:
##   User input: EPSG:2056 
##   wkt:
## PROJCRS[&quot;CH1903+ / LV95&quot;,
##     BASEGEOGCRS[&quot;CH1903+&quot;,
##         DATUM[&quot;CH1903+&quot;,
##             ELLIPSOID[&quot;Bessel 1841&quot;,6377397.155,299.1528128,
##                 LENGTHUNIT[&quot;metre&quot;,1]]],
##         PRIMEM[&quot;Greenwich&quot;,0,
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],
##         ID[&quot;EPSG&quot;,4150]],
##     CONVERSION[&quot;Swiss Oblique Mercator 1995&quot;,
##         METHOD[&quot;Hotine Oblique Mercator (variant B)&quot;,
##             ID[&quot;EPSG&quot;,9815]],
##         PARAMETER[&quot;Latitude of projection centre&quot;,46.9524055555556,
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],
##             ID[&quot;EPSG&quot;,8811]],
##         PARAMETER[&quot;Longitude of projection centre&quot;,7.43958333333333,
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],
##             ID[&quot;EPSG&quot;,8812]],
##         PARAMETER[&quot;Azimuth of initial line&quot;,90,
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],
##             ID[&quot;EPSG&quot;,8813]],
##         PARAMETER[&quot;Angle from Rectified to Skew Grid&quot;,90,
##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],
##             ID[&quot;EPSG&quot;,8814]],
##         PARAMETER[&quot;Scale factor on initial line&quot;,1,
##             SCALEUNIT[&quot;unity&quot;,1],
##             ID[&quot;EPSG&quot;,8815]],
##         PARAMETER[&quot;Easting at projection centre&quot;,2600000,
##             LENGTHUNIT[&quot;metre&quot;,1],
##             ID[&quot;EPSG&quot;,8816]],
##         PARAMETER[&quot;Northing at projection centre&quot;,1200000,
##             LENGTHUNIT[&quot;metre&quot;,1],
##             ID[&quot;EPSG&quot;,8817]]],
##     CS[Cartesian,2],
##         AXIS[&quot;(E)&quot;,east,
##             ORDER[1],
##             LENGTHUNIT[&quot;metre&quot;,1]],
##         AXIS[&quot;(N)&quot;,north,
##             ORDER[2],
##             LENGTHUNIT[&quot;metre&quot;,1]],
##     USAGE[
##         SCOPE[&quot;unknown&quot;],
##         AREA[&quot;Europe - Liechtenstein and Switzerland&quot;],
##         BBOX[45.82,5.96,47.81,10.49]],
##     ID[&quot;EPSG&quot;,2056]]</code></pre>
</div>
<div id="reproject-raster-data-in-r" class="section level3" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> Reproject raster data in R</h3>
<p>Working with Raster datasets in GIS of operations is of equal importance, as
working with vector ones. One of the spatial properties of raster datasets is the
the Coordinate Reference System (CRS). CRS is the specific system that “associates”
the raster coordinates (which are just pairs of x/y values) to geographic locations.
In ArcGIS pro the tool for projecting a raster dataset is called
<em>Project Raster (Data Management)</em>. Let’s see how we can perform the same operation
with R.</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="projections-and-transformations-toolset.html#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Importing the datasets</span></span>
<span id="cb100-2"><a href="projections-and-transformations-toolset.html#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(raster)</span>
<span id="cb100-3"><a href="projections-and-transformations-toolset.html#cb100-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-4"><a href="projections-and-transformations-toolset.html#cb100-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Dataset derived from the spatial interpolation of all the available &quot;recycling points&quot;</span></span>
<span id="cb100-5"><a href="projections-and-transformations-toolset.html#cb100-5" aria-hidden="true" tabindex="-1"></a><span class="co"># in the city of Wädenwil</span></span>
<span id="cb100-6"><a href="projections-and-transformations-toolset.html#cb100-6" aria-hidden="true" tabindex="-1"></a>raster_recycling <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="st">&quot;sample_data/Raster/raster_recycling.tif&quot;</span>) <span class="co"># CRS -&gt; CH1903+LV95</span></span>
<span id="cb100-7"><a href="projections-and-transformations-toolset.html#cb100-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-8"><a href="projections-and-transformations-toolset.html#cb100-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Dataset representing the public transport quality in the city of Wädenswil</span></span>
<span id="cb100-9"><a href="projections-and-transformations-toolset.html#cb100-9" aria-hidden="true" tabindex="-1"></a>publicTransport <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="st">&quot;sample_data/Raster/publicTransport_waedi.tif&quot;</span>) <span class="co"># CRS -&gt; WGS84 </span></span></code></pre></div>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="projections-and-transformations-toolset.html#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the raster dataset - World Geodetic System 1984 </span></span>
<span id="cb101-2"><a href="projections-and-transformations-toolset.html#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(publicTransport,<span class="at">las=</span><span class="dv">1</span>,</span>
<span id="cb101-3"><a href="projections-and-transformations-toolset.html#cb101-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Quality of public transport in the city of Wädenwil - CRS: WGS84&quot;</span>,</span>
<span id="cb101-4"><a href="projections-and-transformations-toolset.html#cb101-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">cex.main=</span><span class="dv">1</span>,<span class="at">font.main=</span><span class="dv">4</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-61-1.png" width="672" /></p>
<p>We can use the <em>projectRaster()</em> function to reproject a raster into a new CRS.
The first argument of the aforementioned function is the raster dataset we want to reproject,
while the second one is the dataset to whose projection we are targeting to. So, in
our case, we are targeting to the coordinate system of the <strong>raster_recycling</strong>
dataset.<br />
It is important to remember that raster reprojection only works when the raster
object has already a defined CRS.</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="projections-and-transformations-toolset.html#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Transform the coordinate system of the raster dataset publicTransport_CH</span></span>
<span id="cb102-2"><a href="projections-and-transformations-toolset.html#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="co"># into the Swiss Coordinate system - CH1903+LV95</span></span>
<span id="cb102-3"><a href="projections-and-transformations-toolset.html#cb102-3" aria-hidden="true" tabindex="-1"></a>publicTransport_CH <span class="ot">=</span> <span class="fu">projectRaster</span>(publicTransport, raster_recycling)</span></code></pre></div>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="projections-and-transformations-toolset.html#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the raster dataset - Swiss Coordinate System CH1903+LV95 </span></span>
<span id="cb103-2"><a href="projections-and-transformations-toolset.html#cb103-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(publicTransport_CH,<span class="at">las=</span><span class="dv">1</span>,</span>
<span id="cb103-3"><a href="projections-and-transformations-toolset.html#cb103-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Quality of public transport in the city of Wädenwil - CRS: CH1903+LV95&quot;</span>,</span>
<span id="cb103-4"><a href="projections-and-transformations-toolset.html#cb103-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">cex.main=</span><span class="dv">1</span>,<span class="at">font.main=</span><span class="dv">4</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-63-1.png" width="672" /></p>
<!-- ## Topology Toolset -->
<!-- ## Sampling Toolset -->
</div>
<div id="generate-tessellation" class="section level3" number="5.2.3">
<h3><span class="header-section-number">5.2.3</span> Generate Tessellation</h3>
<ul>
<li>Hexagon</li>
<li>Tranverse Hexagon</li>
<li>Square</li>
<li>Diamond</li>
<li>Triangle</li>
</ul>
<!-- ### Create Fishnet -->
<!-- ### Create Random Points -->
<!-- ### Generate Points Along Lines -->
<!-- ### Generate Rectangles Along Lines -->
<!-- ### Generate Transsects Along Lines -->
<!-- ## Raster Toolset -->
<!-- <!-- Yes, these are toolsets within toolsets -->
<p>–&gt;
<!-- ### Mosaic Dataset Toolset --></p>
<!-- ### Ortho Mapping Toolset -->
<!-- ### Raster Dataset Toolset -->
<!-- ### Raster Processing Toolset -->
<div id="clip-raster" class="section level4" number="5.2.3.1">
<h4><span class="header-section-number">5.2.3.1</span> Clip Raster</h4>
<p>In GIS operations is quite common the necessity of “clipping” an area based on
some specific region of interest. This is a quite useful and necessary procedure
not only when we are dealing with vector datasets, but also when we have to work
with raster ones. In ArcGIS pro the procedure of “cutting” a portion of a raster
dataset, mosaic dataset, or an image service layer is performed using
<code>Clip Raster</code> tool.<br />
In R, the respective operation can be performed using the <em>mask()</em> function. For
the example below, we are using the following datasets:</p>
<ul>
<li><strong>ARE_waedi</strong>: Vector dataset that depicts the public transport connection quality in the city of Wädenswil</li>
<li><strong>raster_recycling</strong>: Dataset derived from the spatial interpolation of all the available “recycling points”in the city of Wädenwil</li>
</ul>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="projections-and-transformations-toolset.html#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read raster dataset</span></span>
<span id="cb104-2"><a href="projections-and-transformations-toolset.html#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(raster)</span>
<span id="cb104-3"><a href="projections-and-transformations-toolset.html#cb104-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stars)</span>
<span id="cb104-4"><a href="projections-and-transformations-toolset.html#cb104-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb104-5"><a href="projections-and-transformations-toolset.html#cb104-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb104-6"><a href="projections-and-transformations-toolset.html#cb104-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stars)</span>
<span id="cb104-7"><a href="projections-and-transformations-toolset.html#cb104-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-8"><a href="projections-and-transformations-toolset.html#cb104-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Insert a vector dataset that depicts the public transport connection quality in</span></span>
<span id="cb104-9"><a href="projections-and-transformations-toolset.html#cb104-9" aria-hidden="true" tabindex="-1"></a><span class="co"># the city of Wädenswil and plot it</span></span>
<span id="cb104-10"><a href="projections-and-transformations-toolset.html#cb104-10" aria-hidden="true" tabindex="-1"></a>ARE_waedi <span class="ot">&lt;-</span> <span class="fu">read_sf</span>(<span class="st">&quot;sample_data/Entsorgung_Waedenswil/ARE_waedenswil.shp&quot;</span>)</span>
<span id="cb104-11"><a href="projections-and-transformations-toolset.html#cb104-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-12"><a href="projections-and-transformations-toolset.html#cb104-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the raster dataset and plot it</span></span>
<span id="cb104-13"><a href="projections-and-transformations-toolset.html#cb104-13" aria-hidden="true" tabindex="-1"></a>raster_recycling <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="st">&quot;sample_data/Entsorgung_Waedenswil/abfall_raster.tif&quot;</span>)</span></code></pre></div>
<p>Plot the two datasets one over the other.
<img src="_main_files/figure-html/unnamed-chunk-65-1.png" width="672" /></p>
<p>In our case, the vector dataset serves as the clipping extent for the clipping operation.</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="projections-and-transformations-toolset.html#cb105-1" aria-hidden="true" tabindex="-1"></a>recycle_Waedi_clip <span class="ot">&lt;-</span> <span class="fu">mask</span>(raster_recycling,ARE_waedi)</span></code></pre></div>
<p><em>Visualising the clipped output</em>
<img src="_main_files/figure-html/unnamed-chunk-66-1.png" width="672" /></p>
<!-- #### Composite Bands -->
<!-- #### Compute Pansharpen Weights -->
<!-- #### Create Ortho Corrected Raster Dataset -->
<!-- #### Create Pansharpened Raster Dataset -->
<!-- #### Extract Subdataset -->
<!-- #### Generate Table From Raster Function -->
<!-- #### Raster To DTED -->
<!-- #### Resample -->
<!-- #### Split Raster -->
<!-- ### Raster Properties Toolset -->

<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="projections-and-transformations-toolset.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb106-2"><a href="projections-and-transformations-toolset.html#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb106-3"><a href="projections-and-transformations-toolset.html#cb106-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(raster)</span></code></pre></div>
</div>
</div>
</div>
<!-- </div> -->
            </section>

          </div>
        </div>
      </div>
<a href="joins-toolset.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="spatial-analyst-toolbox.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
