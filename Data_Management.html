<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 Data Management Toolbox | All things R Spatial</title>
  <meta name="description" content="6 Data Management Toolbox | All things R Spatial" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="6 Data Management Toolbox | All things R Spatial" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 Data Management Toolbox | All things R Spatial" />
  
  
  

<meta name="author" content="Nils Ratnaweera and Nikolaos Bakogiannis" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="Select_by_Location.html"/>
<link rel="next" href="Spatial_Analyst.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.0.4.1/leaflet-providers-plugin.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://arc2r.github.io/arc2r">Package Website</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="index.html"><a href="index.html#how-to-use-this-book"><i class="fa fa-check"></i><b>2</b> How to use this book</a></li>
<li class="chapter" data-level="3" data-path="Data.html"><a href="Data.html"><i class="fa fa-check"></i><b>3</b> Data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="import_r_vs_arcgis.html"><a href="import_r_vs_arcgis.html"><i class="fa fa-check"></i><b>3.1</b> Importing Data: R vs. ArcGIS</a></li>
<li class="chapter" data-level="3.2" data-path="import_vector.html"><a href="import_vector.html"><i class="fa fa-check"></i><b>3.2</b> Importing vector data with <code>sf</code></a></li>
<li class="chapter" data-level="3.3" data-path="import_raster.html"><a href="import_raster.html"><i class="fa fa-check"></i><b>3.3</b> Importing raster data with <code>raster</code> or <code>terra</code></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="Making_Maps.html"><a href="Making_Maps.html"><i class="fa fa-check"></i><b>4</b> Making Maps</a>
<ul>
<li class="chapter" data-level="4.1" data-path="Static_Maps.html"><a href="Static_Maps.html"><i class="fa fa-check"></i><b>4.1</b> Static Maps</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="Static_Maps.html"><a href="Static_Maps.html#prerequisit"><i class="fa fa-check"></i><b>4.1.1</b> Prerequisit</a></li>
<li class="chapter" data-level="4.1.2" data-path="Static_Maps.html"><a href="Static_Maps.html#static-maps-with-ggplot2"><i class="fa fa-check"></i><b>4.1.2</b> Static maps with <code>ggplot2</code></a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="Dynamic_Maps.html"><a href="Dynamic_Maps.html"><i class="fa fa-check"></i><b>4.2</b> Interactive Maps</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="Dynamic_Maps.html"><a href="Dynamic_Maps.html#introduction-to-tmap"><i class="fa fa-check"></i><b>4.2.1</b> Introduction to <code>tmap</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="Basic_spatial_operations.html"><a href="Basic_spatial_operations.html"><i class="fa fa-check"></i><b>5</b> Basic spatial operations</a>
<ul>
<li class="chapter" data-level="5.1" data-path="Basic_spatial_operations.html"><a href="Basic_spatial_operations.html#clip-operation"><i class="fa fa-check"></i><b>5.1</b> Clip operation</a></li>
<li class="chapter" data-level="5.2" data-path="Basic_spatial_operations.html"><a href="Basic_spatial_operations.html#merge-operation"><i class="fa fa-check"></i><b>5.2</b> Merge operation</a></li>
<li class="chapter" data-level="5.3" data-path="Basic_spatial_operations.html"><a href="Basic_spatial_operations.html#buffer-operation"><i class="fa fa-check"></i><b>5.3</b> Buffer operation</a></li>
<li class="chapter" data-level="5.4" data-path="Select_by_Attribute.html"><a href="Select_by_Attribute.html"><i class="fa fa-check"></i><b>5.4</b> Select by Attribute</a></li>
<li class="chapter" data-level="5.5" data-path="Select_by_Location.html"><a href="Select_by_Location.html"><i class="fa fa-check"></i><b>5.5</b> Select by Location</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="Data_Management.html"><a href="Data_Management.html"><i class="fa fa-check"></i><b>6</b> Data Management Toolbox</a>
<ul>
<li class="chapter" data-level="6.1" data-path="Data_Management.html"><a href="Data_Management.html#joins-toolset"><i class="fa fa-check"></i><b>6.1</b> Joins Toolset</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="Data_Management.html"><a href="Data_Management.html#inner-join"><i class="fa fa-check"></i><b>6.1.1</b> Inner join</a></li>
<li class="chapter" data-level="6.1.2" data-path="Data_Management.html"><a href="Data_Management.html#outer-join"><i class="fa fa-check"></i><b>6.1.2</b> Outer join</a></li>
<li class="chapter" data-level="6.1.3" data-path="Data_Management.html"><a href="Data_Management.html#left-right-join"><i class="fa fa-check"></i><b>6.1.3</b> Left / Right join</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="Data_Management.html"><a href="Data_Management.html#projections-and-transformations-toolset"><i class="fa fa-check"></i><b>6.2</b> Projections and Transformations Toolset</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="Data_Management.html"><a href="Data_Management.html#reproject-vector-data-in-r"><i class="fa fa-check"></i><b>6.2.1</b> Reproject vector data in R</a></li>
<li class="chapter" data-level="6.2.2" data-path="Data_Management.html"><a href="Data_Management.html#reproject-raster-data-in-r"><i class="fa fa-check"></i><b>6.2.2</b> Reproject raster data in R</a></li>
<li class="chapter" data-level="6.2.3" data-path="Data_Management.html"><a href="Data_Management.html#generate-tessellation"><i class="fa fa-check"></i><b>6.2.3</b> Generate Tessellation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="Spatial_Analyst.html"><a href="Spatial_Analyst.html"><i class="fa fa-check"></i><b>7</b> Spatial Analyst Toolbox</a>
<ul>
<li class="chapter" data-level="7.1" data-path="Spatial_Analyst.html"><a href="Spatial_Analyst.html#conditional-toolset"><i class="fa fa-check"></i><b>7.1</b> Conditional Toolset</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="Spatial_Analyst.html"><a href="Spatial_Analyst.html#kernel-density"><i class="fa fa-check"></i><b>7.1.1</b> Kernel Density</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="Spatial_Analyst.html"><a href="Spatial_Analyst.html#reclass-toolset"><i class="fa fa-check"></i><b>7.2</b> Reclass Toolset</a></li>
<li class="chapter" data-level="7.3" data-path="Spatial_Analyst.html"><a href="Spatial_Analyst.html#surface-toolset"><i class="fa fa-check"></i><b>7.3</b> Surface Toolset</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="Spatial_Analyst.html"><a href="Spatial_Analyst.html#slope-and-aspect"><i class="fa fa-check"></i><b>7.3.1</b> Slope and Aspect</a></li>
<li class="chapter" data-level="7.3.2" data-path="Spatial_Analyst.html"><a href="Spatial_Analyst.html#reclassify"><i class="fa fa-check"></i><b>7.3.2</b> Reclassify</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="3D_Analyst.html"><a href="3D_Analyst.html"><i class="fa fa-check"></i><b>8</b> 3D Analyst Toolbox</a>
<ul>
<li class="chapter" data-level="8.1" data-path="3D_Analyst.html"><a href="3D_Analyst.html#raster-interpolation-toolset"><i class="fa fa-check"></i><b>8.1</b> Raster Interpolation Toolset</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="3D_Analyst.html"><a href="3D_Analyst.html#idw"><i class="fa fa-check"></i><b>8.1.1</b> IDW</a></li>
<li class="chapter" data-level="8.1.2" data-path="3D_Analyst.html"><a href="3D_Analyst.html#kriging"><i class="fa fa-check"></i><b>8.1.2</b> Kriging</a></li>
<li class="chapter" data-level="8.1.3" data-path="3D_Analyst.html"><a href="3D_Analyst.html#natural-neighbor"><i class="fa fa-check"></i><b>8.1.3</b> Natural Neighbor</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="Image_Analysis.html"><a href="Image_Analysis.html"><i class="fa fa-check"></i><b>9</b> Image Analysis Toolbox</a>
<ul>
<li class="chapter" data-level="9.1" data-path="Image_Analysis.html"><a href="Image_Analysis.html#map-algebra-toolset"><i class="fa fa-check"></i><b>9.1</b> Map Algebra Toolset</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="Image_Analysis.html"><a href="Image_Analysis.html#raster-calulator"><i class="fa fa-check"></i><b>9.1.1</b> Raster Calulator</a></li>
<li class="chapter" data-level="9.1.2" data-path="Image_Analysis.html"><a href="Image_Analysis.html#focal-statistics"><i class="fa fa-check"></i><b>9.1.2</b> Focal Statistics</a></li>
<li class="chapter" data-level="9.1.3" data-path="Image_Analysis.html"><a href="Image_Analysis.html#zonal-statistics"><i class="fa fa-check"></i><b>9.1.3</b> Zonal Statistics</a></li>
<li class="chapter" data-level="9.1.4" data-path="Image_Analysis.html"><a href="Image_Analysis.html#zonal-statistics-1"><i class="fa fa-check"></i><b>9.1.4</b> Zonal Statistics</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="Analysis.html"><a href="Analysis.html"><i class="fa fa-check"></i><b>10</b> Analysis Toolbox</a>
<ul>
<li class="chapter" data-level="10.1" data-path="Analysis.html"><a href="Analysis.html#clip"><i class="fa fa-check"></i><b>10.1</b> Clip</a></li>
<li class="chapter" data-level="10.2" data-path="Analysis.html"><a href="Analysis.html#merge"><i class="fa fa-check"></i><b>10.2</b> Merge</a></li>
<li class="chapter" data-level="10.3" data-path="Analysis.html"><a href="Analysis.html#spatial-join"><i class="fa fa-check"></i><b>10.3</b> Spatial Join</a></li>
<li class="chapter" data-level="10.4" data-path="Analysis.html"><a href="Analysis.html#buffer"><i class="fa fa-check"></i><b>10.4</b> Buffer</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="Chapter_overview.html"><a href="Chapter_overview.html"><i class="fa fa-check"></i><b>11</b> Topology Rules</a>
<ul>
<li class="chapter" data-level="11.1" data-path="Polygon.html"><a href="Polygon.html"><i class="fa fa-check"></i><b>11.1</b> Polygon</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="Polygon.html"><a href="Polygon.html#must-not-overlap"><i class="fa fa-check"></i><b>11.1.1</b> Must not overlap</a></li>
<li class="chapter" data-level="11.1.2" data-path="Polygon.html"><a href="Polygon.html#must-not-have-gaps"><i class="fa fa-check"></i><b>11.1.2</b> Must not have gaps</a></li>
<li class="chapter" data-level="11.1.3" data-path="Polygon.html"><a href="Polygon.html#contains-point"><i class="fa fa-check"></i><b>11.1.3</b> Contains point</a></li>
<li class="chapter" data-level="11.1.4" data-path="Polygon.html"><a href="Polygon.html#contains-one-point"><i class="fa fa-check"></i><b>11.1.4</b> Contains one Point</a></li>
<li class="chapter" data-level="11.1.5" data-path="Polygon.html"><a href="Polygon.html#must-be-covered-by-feature-class-of"><i class="fa fa-check"></i><b>11.1.5</b> Must be covered by feature class of</a></li>
<li class="chapter" data-level="11.1.6" data-path="Polygon.html"><a href="Polygon.html#boundary-must-be-covered-by"><i class="fa fa-check"></i><b>11.1.6</b> Boundary must be covered by</a></li>
<li class="chapter" data-level="11.1.7" data-path="Polygon.html"><a href="Polygon.html#must-not-overlap-with"><i class="fa fa-check"></i><b>11.1.7</b> Must not overlap with</a></li>
<li class="chapter" data-level="11.1.8" data-path="Polygon.html"><a href="Polygon.html#must-be-covered-by"><i class="fa fa-check"></i><b>11.1.8</b> Must be covered by</a></li>
<li class="chapter" data-level="11.1.9" data-path="Polygon.html"><a href="Polygon.html#area-boundary-must-be-covered-by-boundary-of"><i class="fa fa-check"></i><b>11.1.9</b> Area boundary must be covered by boundary of</a></li>
<li class="chapter" data-level="11.1.10" data-path="Polygon.html"><a href="Polygon.html#must-cover-each-other"><i class="fa fa-check"></i><b>11.1.10</b> Must cover each other</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://www.zhaw.ch/de/lsfm/institute-zentren/iunr/ecosystems-and-biodiversity/geoinformatik/">
Developped by the Research Group for Geoinformatics @ ZHAW</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">All things R Spatial</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-management-toolbox" class="section level1" number="6">
<h1><span class="header-section-number">6</span> Data Management Toolbox</h1>
<p>Data Management toolbox in ArcGIS pro provides the users a variety of tools for managing,
maintaining and developing datasets that come in all possible forms (feature classes / datasets, raster datasets). Below we present all the different options that R offers for performing such operations.</p>
<div id="joins-toolset" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Joins Toolset</h2>
<p>In R we have two main options for merging two data frames. On the one hand there is
the base R function called <em>merge</em>. The arguments of the <code>merge()</code> function offers the
option to perform natural joins. In other words joins such as inner join, left join, right join etc.
On the other hand we can come up with similar results by using the <em>join</em> functions that
lie within the <code>dplyr</code> package.<br />
In the examples below, we choose to use the latter case.</p>
<p>Before we begin with our examples, we have to make clear the differences among the various
forms of join operations.</p>
<ul>
<li><em>Natural join or Inner Join</em> reflects on keeping only rows that match from the two data frames.</li>
<li><em>Full outer join or Outer Join</em> reflects on keeping all rows from both data frames.</li>
</ul>
<div class="figure" style="text-align: center"><span id="fig:joins"></span>
<img src="images/joins.png" alt="Join operations" width="500px" />
<p class="caption">
Figure 6.1: Join operations
</p>
</div>
<div id="inner-join" class="section level3" number="6.1.1">
<h3><span class="header-section-number">6.1.1</span> Inner join</h3>
<p><code>Inner Join</code> in R is the most common type of join. It is an operation that returns the rows
when the matching condition is fulfilled. Below we demonstrate it with an example.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="Data_Management.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb47-2"><a href="Data_Management.html#cb47-2" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">TeamID =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">6</span>,<span class="dv">11</span>),</span>
<span id="cb47-3"><a href="Data_Management.html#cb47-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">TeamName =</span> <span class="fu">c</span>(<span class="st">&quot;new york knicks&quot;</span>,<span class="st">&quot;los angeles lakers&quot;</span>,<span class="st">&quot;milwaukee bucks&quot;</span>,<span class="st">&quot;boston celtics&quot;</span>),</span>
<span id="cb47-4"><a href="Data_Management.html#cb47-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">Championships =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">17</span>,<span class="dv">1</span>,<span class="dv">17</span>))</span>
<span id="cb47-5"><a href="Data_Management.html#cb47-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-6"><a href="Data_Management.html#cb47-6" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">TeamID =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">11</span>,<span class="dv">8</span>),</span>
<span id="cb47-7"><a href="Data_Management.html#cb47-7" aria-hidden="true" tabindex="-1"></a>                  <span class="at">TeamName =</span> <span class="fu">c</span>(<span class="st">&quot;new york knicks&quot;</span>,<span class="st">&quot;philadelphia 76ers&quot;</span>,<span class="st">&quot;boston celtics&quot;</span>,<span class="st">&quot;los angeles clippers&quot;</span>),</span>
<span id="cb47-8"><a href="Data_Management.html#cb47-8" aria-hidden="true" tabindex="-1"></a>                  <span class="at">Championships =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">17</span>,<span class="dv">0</span>))</span>
<span id="cb47-9"><a href="Data_Management.html#cb47-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-10"><a href="Data_Management.html#cb47-10" aria-hidden="true" tabindex="-1"></a>df_innerJoin <span class="ot">&lt;-</span> df1 <span class="sc">%&gt;%</span> <span class="fu">inner_join</span>(df2, <span class="at">by =</span> <span class="cn">NULL</span>)</span>
<span id="cb47-11"><a href="Data_Management.html#cb47-11" aria-hidden="true" tabindex="-1"></a>df_innerJoin</span>
<span id="cb47-12"><a href="Data_Management.html#cb47-12" aria-hidden="true" tabindex="-1"></a><span class="do">##   TeamID        TeamName Championships</span></span>
<span id="cb47-13"><a href="Data_Management.html#cb47-13" aria-hidden="true" tabindex="-1"></a><span class="do">## 1      1 new york knicks             2</span></span>
<span id="cb47-14"><a href="Data_Management.html#cb47-14" aria-hidden="true" tabindex="-1"></a><span class="do">## 2     11  boston celtics            17</span></span></code></pre></div>
</div>
<div id="outer-join" class="section level3" number="6.1.2">
<h3><span class="header-section-number">6.1.2</span> Outer join</h3>
<p><code>Outer join</code> in R using simply returns all rows from both data frames. This is very well depicted in
<a href="Data_Management.html#fig:joins">6.1</a>.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="Data_Management.html#cb48-1" aria-hidden="true" tabindex="-1"></a>df_fullJoin <span class="ot">&lt;-</span> <span class="fu">full_join</span>(df1,df2)</span>
<span id="cb48-2"><a href="Data_Management.html#cb48-2" aria-hidden="true" tabindex="-1"></a>df_fullJoin</span>
<span id="cb48-3"><a href="Data_Management.html#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="do">##   TeamID             TeamName Championships</span></span>
<span id="cb48-4"><a href="Data_Management.html#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="do">## 1      1      new york knicks             2</span></span>
<span id="cb48-5"><a href="Data_Management.html#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="do">## 2      4   los angeles lakers            17</span></span>
<span id="cb48-6"><a href="Data_Management.html#cb48-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 3      6      milwaukee bucks             1</span></span>
<span id="cb48-7"><a href="Data_Management.html#cb48-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 4     11       boston celtics            17</span></span>
<span id="cb48-8"><a href="Data_Management.html#cb48-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 5      2   philadelphia 76ers             3</span></span>
<span id="cb48-9"><a href="Data_Management.html#cb48-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 6      8 los angeles clippers             0</span></span></code></pre></div>
</div>
<div id="left-right-join" class="section level3" number="6.1.3">
<h3><span class="header-section-number">6.1.3</span> Left / Right join</h3>
<p>The <code>left join</code> in R returns all records from the data frame on the left, as well as
and the matched records from the one at the right.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="Data_Management.html#cb49-1" aria-hidden="true" tabindex="-1"></a>df_leftJoin <span class="ot">&lt;-</span> <span class="fu">left_join</span>(df1,df2)</span>
<span id="cb49-2"><a href="Data_Management.html#cb49-2" aria-hidden="true" tabindex="-1"></a>df_leftJoin</span>
<span id="cb49-3"><a href="Data_Management.html#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="do">##   TeamID           TeamName Championships</span></span>
<span id="cb49-4"><a href="Data_Management.html#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="do">## 1      1    new york knicks             2</span></span>
<span id="cb49-5"><a href="Data_Management.html#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="do">## 2      4 los angeles lakers            17</span></span>
<span id="cb49-6"><a href="Data_Management.html#cb49-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 3      6    milwaukee bucks             1</span></span>
<span id="cb49-7"><a href="Data_Management.html#cb49-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 4     11     boston celtics            17</span></span></code></pre></div>
<p>Similarly works also the <code>right join</code>.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="Data_Management.html#cb50-1" aria-hidden="true" tabindex="-1"></a>df_rightJoin <span class="ot">&lt;-</span> <span class="fu">right_join</span>(df1,df2)</span>
<span id="cb50-2"><a href="Data_Management.html#cb50-2" aria-hidden="true" tabindex="-1"></a>df_rightJoin</span>
<span id="cb50-3"><a href="Data_Management.html#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="do">##   TeamID             TeamName Championships</span></span>
<span id="cb50-4"><a href="Data_Management.html#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="do">## 1      1      new york knicks             2</span></span>
<span id="cb50-5"><a href="Data_Management.html#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="do">## 2     11       boston celtics            17</span></span>
<span id="cb50-6"><a href="Data_Management.html#cb50-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 3      2   philadelphia 76ers             3</span></span>
<span id="cb50-7"><a href="Data_Management.html#cb50-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 4      8 los angeles clippers             0</span></span></code></pre></div>
</div>
</div>
<div id="projections-and-transformations-toolset" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> Projections and Transformations Toolset</h2>
<p>Quite often in GIS, users found themselves before the necessity of transforming
(reprojecting) the coordinate system of a dataset (vector or raster). In fact this
is one of the most commonly used operations. In ArcGIS pro the aforementioned
action is performed using the following tools:</p>
<ul>
<li><code>Project (Data Management)</code> -&gt; Projects <strong>spatial data</strong> from one coordinate system to another.</li>
<li><code>Project Raster (Data Management)</code> -&gt; Transforms a <strong>raster dataset</strong> from one coordinate system to another.</li>
</ul>
<p>The question now is how we can perform similar operations with R.</p>
<div id="reproject-vector-data-in-r" class="section level3" number="6.2.1">
<h3><span class="header-section-number">6.2.1</span> Reproject vector data in R</h3>
<p>For our example we will use the following dataset.</p>
<ul>
<li><strong>bezirke.gpkg</strong> -&gt; Dataset that depicts the Municipal structure in Switzerland</li>
</ul>
<p><strong>R</strong> and more specifically <strong>sf package</strong> offers options (functions) not only for
transforming the coordinate system of a dataset, but also for identifying the
current existing one. Let’s dive in :)</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="Data_Management.html#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Importing the dataset</span></span>
<span id="cb51-2"><a href="Data_Management.html#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb51-3"><a href="Data_Management.html#cb51-3" aria-hidden="true" tabindex="-1"></a>bezirke <span class="ot">&lt;-</span> <span class="fu">read_sf</span>(<span class="st">&quot;sample_data/other/bezirke.gpkg&quot;</span>) </span></code></pre></div>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="Data_Management.html#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualising the imported dataset</span></span>
<span id="cb52-2"><a href="Data_Management.html#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb52-3"><a href="Data_Management.html#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_sf</span>(<span class="at">data =</span> bezirke)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-67-1.png" width="672" /></p>
<p>In order to identify the current coordinate system of a dataset, <strong>sf package</strong>
offers the function <em>st_crs</em>. The main usage of the function is to retrieve the
coordinate reference system from an sf object.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="Data_Management.html#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># retrieving the coordinate of the imported layer</span></span>
<span id="cb53-2"><a href="Data_Management.html#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">st_crs</span>(bezirke)</span>
<span id="cb53-3"><a href="Data_Management.html#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="do">## Coordinate Reference System: NA</span></span></code></pre></div>
<p>As an output we received that there is no assigned coordinate system to this
specific dataset. <em>st_set_crs</em> function helps us assigning a coordinate system
to a dataset.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="Data_Management.html#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assigning the World Geodetic System (WGS84) as a coordinate system to our dataset</span></span>
<span id="cb54-2"><a href="Data_Management.html#cb54-2" aria-hidden="true" tabindex="-1"></a>bezirke <span class="ot">&lt;-</span> <span class="fu">st_set_crs</span>(bezirke, <span class="dv">4326</span>)</span></code></pre></div>
<p>In the function above, the number 4326 represents the <strong>EPSG Geodetic Parameter Dataset (EPSG)</strong>
of the respective coordinate system. <strong>EPSG</strong> is a public registry of geodetic
datums, spatial reference systems, Earth ellipsoids, coordinate transformations
and related units of measurement.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="Data_Management.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">st_crs</span>(bezirke)</span>
<span id="cb55-2"><a href="Data_Management.html#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Coordinate Reference System:</span></span>
<span id="cb55-3"><a href="Data_Management.html#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="do">##   User input: EPSG:4326 </span></span>
<span id="cb55-4"><a href="Data_Management.html#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="do">##   wkt:</span></span>
<span id="cb55-5"><a href="Data_Management.html#cb55-5" aria-hidden="true" tabindex="-1"></a><span class="do">## GEOGCRS[&quot;WGS 84&quot;,</span></span>
<span id="cb55-6"><a href="Data_Management.html#cb55-6" aria-hidden="true" tabindex="-1"></a><span class="do">##     DATUM[&quot;World Geodetic System 1984&quot;,</span></span>
<span id="cb55-7"><a href="Data_Management.html#cb55-7" aria-hidden="true" tabindex="-1"></a><span class="do">##         ELLIPSOID[&quot;WGS 84&quot;,6378137,298.257223563,</span></span>
<span id="cb55-8"><a href="Data_Management.html#cb55-8" aria-hidden="true" tabindex="-1"></a><span class="do">##             LENGTHUNIT[&quot;metre&quot;,1]]],</span></span>
<span id="cb55-9"><a href="Data_Management.html#cb55-9" aria-hidden="true" tabindex="-1"></a><span class="do">##     PRIMEM[&quot;Greenwich&quot;,0,</span></span>
<span id="cb55-10"><a href="Data_Management.html#cb55-10" aria-hidden="true" tabindex="-1"></a><span class="do">##         ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],</span></span>
<span id="cb55-11"><a href="Data_Management.html#cb55-11" aria-hidden="true" tabindex="-1"></a><span class="do">##     CS[ellipsoidal,2],</span></span>
<span id="cb55-12"><a href="Data_Management.html#cb55-12" aria-hidden="true" tabindex="-1"></a><span class="do">##         AXIS[&quot;geodetic latitude (Lat)&quot;,north,</span></span>
<span id="cb55-13"><a href="Data_Management.html#cb55-13" aria-hidden="true" tabindex="-1"></a><span class="do">##             ORDER[1],</span></span>
<span id="cb55-14"><a href="Data_Management.html#cb55-14" aria-hidden="true" tabindex="-1"></a><span class="do">##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],</span></span>
<span id="cb55-15"><a href="Data_Management.html#cb55-15" aria-hidden="true" tabindex="-1"></a><span class="do">##         AXIS[&quot;geodetic longitude (Lon)&quot;,east,</span></span>
<span id="cb55-16"><a href="Data_Management.html#cb55-16" aria-hidden="true" tabindex="-1"></a><span class="do">##             ORDER[2],</span></span>
<span id="cb55-17"><a href="Data_Management.html#cb55-17" aria-hidden="true" tabindex="-1"></a><span class="do">##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],</span></span>
<span id="cb55-18"><a href="Data_Management.html#cb55-18" aria-hidden="true" tabindex="-1"></a><span class="do">##     USAGE[</span></span>
<span id="cb55-19"><a href="Data_Management.html#cb55-19" aria-hidden="true" tabindex="-1"></a><span class="do">##         SCOPE[&quot;unknown&quot;],</span></span>
<span id="cb55-20"><a href="Data_Management.html#cb55-20" aria-hidden="true" tabindex="-1"></a><span class="do">##         AREA[&quot;World&quot;],</span></span>
<span id="cb55-21"><a href="Data_Management.html#cb55-21" aria-hidden="true" tabindex="-1"></a><span class="do">##         BBOX[-90,-180,90,180]],</span></span>
<span id="cb55-22"><a href="Data_Management.html#cb55-22" aria-hidden="true" tabindex="-1"></a><span class="do">##     ID[&quot;EPSG&quot;,4326]]</span></span></code></pre></div>
<p>After rerunning the <em>st_crs</em> function, we are getting now that the assigned
coordinate system of the dataset is World Geodetic System (WGS84).<br />
As a next step, we might want to transform the dataset to the Swiss coordinate system.
The respective <strong>EPSG</strong> for code for the latest Swiss coordinate system
(CH1903+LV95) is 2056. For this purpose we use the <code>st_transform</code> function of the <strong>sf package</strong>.</p>
<p><span style="color:red"><strong>Important</strong></span></p>
<details>
<summary>
<strong>&gt; Click to expand!</strong>
</summary>
<em>st_set_crs</em> function <strong>does not</strong> reproject the coordinates of the given dataset. In
other words, it does not affect the actual <em>geometry</em> column of the sf object.
<em>st_tranform</em> on the other hand indeed <strong>does indeed reproject</strong> the dataset to another coordinate
system.
</details>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="Data_Management.html#cb56-1" aria-hidden="true" tabindex="-1"></a>bezirke_swiss <span class="ot">&lt;-</span> <span class="fu">st_transform</span>(bezirke, <span class="dv">2056</span>)</span>
<span id="cb56-2"><a href="Data_Management.html#cb56-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-3"><a href="Data_Management.html#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="co"># retrieve the coordinate system</span></span>
<span id="cb56-4"><a href="Data_Management.html#cb56-4" aria-hidden="true" tabindex="-1"></a><span class="fu">st_crs</span>(bezirke_swiss)</span>
<span id="cb56-5"><a href="Data_Management.html#cb56-5" aria-hidden="true" tabindex="-1"></a><span class="do">## Coordinate Reference System:</span></span>
<span id="cb56-6"><a href="Data_Management.html#cb56-6" aria-hidden="true" tabindex="-1"></a><span class="do">##   User input: EPSG:2056 </span></span>
<span id="cb56-7"><a href="Data_Management.html#cb56-7" aria-hidden="true" tabindex="-1"></a><span class="do">##   wkt:</span></span>
<span id="cb56-8"><a href="Data_Management.html#cb56-8" aria-hidden="true" tabindex="-1"></a><span class="do">## PROJCRS[&quot;CH1903+ / LV95&quot;,</span></span>
<span id="cb56-9"><a href="Data_Management.html#cb56-9" aria-hidden="true" tabindex="-1"></a><span class="do">##     BASEGEOGCRS[&quot;CH1903+&quot;,</span></span>
<span id="cb56-10"><a href="Data_Management.html#cb56-10" aria-hidden="true" tabindex="-1"></a><span class="do">##         DATUM[&quot;CH1903+&quot;,</span></span>
<span id="cb56-11"><a href="Data_Management.html#cb56-11" aria-hidden="true" tabindex="-1"></a><span class="do">##             ELLIPSOID[&quot;Bessel 1841&quot;,6377397.155,299.1528128,</span></span>
<span id="cb56-12"><a href="Data_Management.html#cb56-12" aria-hidden="true" tabindex="-1"></a><span class="do">##                 LENGTHUNIT[&quot;metre&quot;,1]]],</span></span>
<span id="cb56-13"><a href="Data_Management.html#cb56-13" aria-hidden="true" tabindex="-1"></a><span class="do">##         PRIMEM[&quot;Greenwich&quot;,0,</span></span>
<span id="cb56-14"><a href="Data_Management.html#cb56-14" aria-hidden="true" tabindex="-1"></a><span class="do">##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433]],</span></span>
<span id="cb56-15"><a href="Data_Management.html#cb56-15" aria-hidden="true" tabindex="-1"></a><span class="do">##         ID[&quot;EPSG&quot;,4150]],</span></span>
<span id="cb56-16"><a href="Data_Management.html#cb56-16" aria-hidden="true" tabindex="-1"></a><span class="do">##     CONVERSION[&quot;Swiss Oblique Mercator 1995&quot;,</span></span>
<span id="cb56-17"><a href="Data_Management.html#cb56-17" aria-hidden="true" tabindex="-1"></a><span class="do">##         METHOD[&quot;Hotine Oblique Mercator (variant B)&quot;,</span></span>
<span id="cb56-18"><a href="Data_Management.html#cb56-18" aria-hidden="true" tabindex="-1"></a><span class="do">##             ID[&quot;EPSG&quot;,9815]],</span></span>
<span id="cb56-19"><a href="Data_Management.html#cb56-19" aria-hidden="true" tabindex="-1"></a><span class="do">##         PARAMETER[&quot;Latitude of projection centre&quot;,46.9524055555556,</span></span>
<span id="cb56-20"><a href="Data_Management.html#cb56-20" aria-hidden="true" tabindex="-1"></a><span class="do">##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],</span></span>
<span id="cb56-21"><a href="Data_Management.html#cb56-21" aria-hidden="true" tabindex="-1"></a><span class="do">##             ID[&quot;EPSG&quot;,8811]],</span></span>
<span id="cb56-22"><a href="Data_Management.html#cb56-22" aria-hidden="true" tabindex="-1"></a><span class="do">##         PARAMETER[&quot;Longitude of projection centre&quot;,7.43958333333333,</span></span>
<span id="cb56-23"><a href="Data_Management.html#cb56-23" aria-hidden="true" tabindex="-1"></a><span class="do">##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],</span></span>
<span id="cb56-24"><a href="Data_Management.html#cb56-24" aria-hidden="true" tabindex="-1"></a><span class="do">##             ID[&quot;EPSG&quot;,8812]],</span></span>
<span id="cb56-25"><a href="Data_Management.html#cb56-25" aria-hidden="true" tabindex="-1"></a><span class="do">##         PARAMETER[&quot;Azimuth of initial line&quot;,90,</span></span>
<span id="cb56-26"><a href="Data_Management.html#cb56-26" aria-hidden="true" tabindex="-1"></a><span class="do">##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],</span></span>
<span id="cb56-27"><a href="Data_Management.html#cb56-27" aria-hidden="true" tabindex="-1"></a><span class="do">##             ID[&quot;EPSG&quot;,8813]],</span></span>
<span id="cb56-28"><a href="Data_Management.html#cb56-28" aria-hidden="true" tabindex="-1"></a><span class="do">##         PARAMETER[&quot;Angle from Rectified to Skew Grid&quot;,90,</span></span>
<span id="cb56-29"><a href="Data_Management.html#cb56-29" aria-hidden="true" tabindex="-1"></a><span class="do">##             ANGLEUNIT[&quot;degree&quot;,0.0174532925199433],</span></span>
<span id="cb56-30"><a href="Data_Management.html#cb56-30" aria-hidden="true" tabindex="-1"></a><span class="do">##             ID[&quot;EPSG&quot;,8814]],</span></span>
<span id="cb56-31"><a href="Data_Management.html#cb56-31" aria-hidden="true" tabindex="-1"></a><span class="do">##         PARAMETER[&quot;Scale factor on initial line&quot;,1,</span></span>
<span id="cb56-32"><a href="Data_Management.html#cb56-32" aria-hidden="true" tabindex="-1"></a><span class="do">##             SCALEUNIT[&quot;unity&quot;,1],</span></span>
<span id="cb56-33"><a href="Data_Management.html#cb56-33" aria-hidden="true" tabindex="-1"></a><span class="do">##             ID[&quot;EPSG&quot;,8815]],</span></span>
<span id="cb56-34"><a href="Data_Management.html#cb56-34" aria-hidden="true" tabindex="-1"></a><span class="do">##         PARAMETER[&quot;Easting at projection centre&quot;,2600000,</span></span>
<span id="cb56-35"><a href="Data_Management.html#cb56-35" aria-hidden="true" tabindex="-1"></a><span class="do">##             LENGTHUNIT[&quot;metre&quot;,1],</span></span>
<span id="cb56-36"><a href="Data_Management.html#cb56-36" aria-hidden="true" tabindex="-1"></a><span class="do">##             ID[&quot;EPSG&quot;,8816]],</span></span>
<span id="cb56-37"><a href="Data_Management.html#cb56-37" aria-hidden="true" tabindex="-1"></a><span class="do">##         PARAMETER[&quot;Northing at projection centre&quot;,1200000,</span></span>
<span id="cb56-38"><a href="Data_Management.html#cb56-38" aria-hidden="true" tabindex="-1"></a><span class="do">##             LENGTHUNIT[&quot;metre&quot;,1],</span></span>
<span id="cb56-39"><a href="Data_Management.html#cb56-39" aria-hidden="true" tabindex="-1"></a><span class="do">##             ID[&quot;EPSG&quot;,8817]]],</span></span>
<span id="cb56-40"><a href="Data_Management.html#cb56-40" aria-hidden="true" tabindex="-1"></a><span class="do">##     CS[Cartesian,2],</span></span>
<span id="cb56-41"><a href="Data_Management.html#cb56-41" aria-hidden="true" tabindex="-1"></a><span class="do">##         AXIS[&quot;(E)&quot;,east,</span></span>
<span id="cb56-42"><a href="Data_Management.html#cb56-42" aria-hidden="true" tabindex="-1"></a><span class="do">##             ORDER[1],</span></span>
<span id="cb56-43"><a href="Data_Management.html#cb56-43" aria-hidden="true" tabindex="-1"></a><span class="do">##             LENGTHUNIT[&quot;metre&quot;,1]],</span></span>
<span id="cb56-44"><a href="Data_Management.html#cb56-44" aria-hidden="true" tabindex="-1"></a><span class="do">##         AXIS[&quot;(N)&quot;,north,</span></span>
<span id="cb56-45"><a href="Data_Management.html#cb56-45" aria-hidden="true" tabindex="-1"></a><span class="do">##             ORDER[2],</span></span>
<span id="cb56-46"><a href="Data_Management.html#cb56-46" aria-hidden="true" tabindex="-1"></a><span class="do">##             LENGTHUNIT[&quot;metre&quot;,1]],</span></span>
<span id="cb56-47"><a href="Data_Management.html#cb56-47" aria-hidden="true" tabindex="-1"></a><span class="do">##     USAGE[</span></span>
<span id="cb56-48"><a href="Data_Management.html#cb56-48" aria-hidden="true" tabindex="-1"></a><span class="do">##         SCOPE[&quot;unknown&quot;],</span></span>
<span id="cb56-49"><a href="Data_Management.html#cb56-49" aria-hidden="true" tabindex="-1"></a><span class="do">##         AREA[&quot;Europe - Liechtenstein and Switzerland&quot;],</span></span>
<span id="cb56-50"><a href="Data_Management.html#cb56-50" aria-hidden="true" tabindex="-1"></a><span class="do">##         BBOX[45.82,5.96,47.81,10.49]],</span></span>
<span id="cb56-51"><a href="Data_Management.html#cb56-51" aria-hidden="true" tabindex="-1"></a><span class="do">##     ID[&quot;EPSG&quot;,2056]]</span></span></code></pre></div>
</div>
<div id="reproject-raster-data-in-r" class="section level3" number="6.2.2">
<h3><span class="header-section-number">6.2.2</span> Reproject raster data in R</h3>
<p>Working with Raster datasets in GIS of operations is of equal importance, as
working with vector ones. One of the spatial properties of raster datasets is the
the Coordinate Reference System (CRS). CRS is the specific system that “associates”
the raster coordinates (which are just pairs of x/y values) to geographic locations.
In ArcGIS pro the tool for projecting a raster dataset is called
<em>Project Raster (Data Management)</em>. Let’s see how we can perform the same operation
with R.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="Data_Management.html#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Importing the datasets</span></span>
<span id="cb57-2"><a href="Data_Management.html#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(raster)</span>
<span id="cb57-3"><a href="Data_Management.html#cb57-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-4"><a href="Data_Management.html#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Dataset derived from the spatial interpolation of all the available &quot;recycling points&quot;</span></span>
<span id="cb57-5"><a href="Data_Management.html#cb57-5" aria-hidden="true" tabindex="-1"></a><span class="co"># in the city of Wädenwil</span></span>
<span id="cb57-6"><a href="Data_Management.html#cb57-6" aria-hidden="true" tabindex="-1"></a>raster_recycling <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="st">&quot;sample_data/Raster/raster_recycling.tif&quot;</span>) <span class="co"># CRS -&gt; CH1903+LV95</span></span>
<span id="cb57-7"><a href="Data_Management.html#cb57-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-8"><a href="Data_Management.html#cb57-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Dataset representing the public transport quality in the city of Wädenswil</span></span>
<span id="cb57-9"><a href="Data_Management.html#cb57-9" aria-hidden="true" tabindex="-1"></a>publicTransport <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="st">&quot;sample_data/Raster/publicTransport_waedi.tif&quot;</span>) <span class="co"># CRS -&gt; WGS84 </span></span></code></pre></div>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="Data_Management.html#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the raster dataset - World Geodetic System 1984 </span></span>
<span id="cb58-2"><a href="Data_Management.html#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(publicTransport,<span class="at">las=</span><span class="dv">1</span>,</span>
<span id="cb58-3"><a href="Data_Management.html#cb58-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Quality of public transport in the city of Wädenwil - CRS: WGS84&quot;</span>,</span>
<span id="cb58-4"><a href="Data_Management.html#cb58-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">cex.main=</span><span class="dv">1</span>,<span class="at">font.main=</span><span class="dv">4</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-73-1.png" width="672" /></p>
<p>We can use the <code>projectRaster()</code> function to reproject a raster into a new CRS.
The first argument of the aforementioned function is the raster dataset we want to reproject,
while the second one is the dataset to whose projection we are targeting to. So, in
our case, we are targeting to the coordinate system of the <strong>raster_recycling</strong>
dataset.<br />
It is important to remember that raster reprojection only works when the raster
object has already a defined CRS.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="Data_Management.html#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Transform the coordinate system of the raster dataset publicTransport_CH</span></span>
<span id="cb59-2"><a href="Data_Management.html#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="co"># into the Swiss Coordinate system - CH1903+LV95</span></span>
<span id="cb59-3"><a href="Data_Management.html#cb59-3" aria-hidden="true" tabindex="-1"></a>publicTransport_CH <span class="ot">=</span> <span class="fu">projectRaster</span>(publicTransport, raster_recycling)</span></code></pre></div>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="Data_Management.html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the raster dataset - Swiss Coordinate System CH1903+LV95 </span></span>
<span id="cb60-2"><a href="Data_Management.html#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(publicTransport_CH,<span class="at">las=</span><span class="dv">1</span>,</span>
<span id="cb60-3"><a href="Data_Management.html#cb60-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Quality of public transport in the city of Wädenwil - CRS: CH1903+LV95&quot;</span>,</span>
<span id="cb60-4"><a href="Data_Management.html#cb60-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">cex.main=</span><span class="dv">1</span>,<span class="at">font.main=</span><span class="dv">4</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-75-1.png" width="672" /></p>
<!-- ## Topology Toolset -->
<!-- ## Sampling Toolset -->
</div>
<div id="generate-tessellation" class="section level3" number="6.2.3">
<h3><span class="header-section-number">6.2.3</span> Generate Tessellation</h3>
<ul>
<li>Hexagon</li>
<li>Tranverse Hexagon</li>
<li>Square</li>
<li>Diamond</li>
<li>Triangle</li>
</ul>
<!-- ### Create Fishnet -->
<!-- ### Create Random Points -->
<!-- ### Generate Points Along Lines -->
<!-- ### Generate Rectangles Along Lines -->
<!-- ### Generate Transsects Along Lines -->
<!-- ## Raster Toolset -->
<!-- <!-- Yes, these are toolsets within toolsets -->
<p>–&gt;
<!-- ### Mosaic Dataset Toolset --></p>
<!-- ### Ortho Mapping Toolset -->
<!-- ### Raster Dataset Toolset -->
<!-- ### Raster Processing Toolset -->
<div id="clip-raster" class="section level4" number="6.2.3.1">
<h4><span class="header-section-number">6.2.3.1</span> Clip Raster</h4>
<p>In GIS operations is quite common the necessity of “clipping” an area based on
some specific region of interest. This is a quite useful and necessary procedure
not only when we are dealing with vector datasets, but also when we have to work
with raster ones. In ArcGIS pro the procedure of “cutting” a portion of a raster
dataset, mosaic dataset, or an image service layer is performed using
<code>Clip Raster</code> tool.<br />
In R, the respective operation can be performed using the <em>mask()</em> function. For
the example below, we are using the following datasets:</p>
<ul>
<li><strong>ARE_waedi</strong>: Vector dataset that depicts the public transport connection quality in the city of Wädenswil</li>
<li><strong>raster_recycling</strong>: Dataset derived from the spatial interpolation of all the available “recycling points”in the city of Wädenwil</li>
</ul>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="Data_Management.html#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read raster dataset</span></span>
<span id="cb61-2"><a href="Data_Management.html#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(raster)</span>
<span id="cb61-3"><a href="Data_Management.html#cb61-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stars)</span>
<span id="cb61-4"><a href="Data_Management.html#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb61-5"><a href="Data_Management.html#cb61-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb61-6"><a href="Data_Management.html#cb61-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stars)</span>
<span id="cb61-7"><a href="Data_Management.html#cb61-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-8"><a href="Data_Management.html#cb61-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Insert a vector dataset that depicts the public transport connection quality in</span></span>
<span id="cb61-9"><a href="Data_Management.html#cb61-9" aria-hidden="true" tabindex="-1"></a><span class="co"># the city of Wädenswil and plot it</span></span>
<span id="cb61-10"><a href="Data_Management.html#cb61-10" aria-hidden="true" tabindex="-1"></a>ARE_waedi <span class="ot">&lt;-</span> <span class="fu">read_sf</span>(<span class="st">&quot;sample_data/Entsorgung_Waedenswil/ARE_waedenswil.shp&quot;</span>)</span>
<span id="cb61-11"><a href="Data_Management.html#cb61-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-12"><a href="Data_Management.html#cb61-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the raster dataset and plot it</span></span>
<span id="cb61-13"><a href="Data_Management.html#cb61-13" aria-hidden="true" tabindex="-1"></a>raster_recycling <span class="ot">&lt;-</span> <span class="fu">raster</span>(<span class="st">&quot;sample_data/Entsorgung_Waedenswil/abfall_raster.tif&quot;</span>)</span></code></pre></div>
<p>Plot the two datasets one over the other.
<img src="_main_files/figure-html/unnamed-chunk-77-1.png" width="672" /></p>
<p>In our case, the vector dataset serves as the clipping extent for the clipping operation.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="Data_Management.html#cb62-1" aria-hidden="true" tabindex="-1"></a>recycle_Waedi_clip <span class="ot">&lt;-</span> <span class="fu">mask</span>(raster_recycling,ARE_waedi)</span></code></pre></div>
<p><em>Visualising the clipped output</em>
<img src="_main_files/figure-html/unnamed-chunk-78-1.png" width="672" /></p>
<!-- #### Composite Bands -->
<!-- #### Compute Pansharpen Weights -->
<!-- #### Create Ortho Corrected Raster Dataset -->
<!-- #### Create Pansharpened Raster Dataset -->
<!-- #### Extract Subdataset -->
<!-- #### Generate Table From Raster Function -->
<!-- #### Raster To DTED -->
<!-- #### Resample -->
<!-- #### Split Raster -->
<!-- ### Raster Properties Toolset -->

            </section>

          </div>
        </div>
      </div>
<a href="Select_by_Location.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="Spatial_Analyst.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
