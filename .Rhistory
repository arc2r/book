bgmap[[1]]
bgmap <- brick(path)
bgmap[[1]]
bgmap[[1]][,1]
bgmap[[2]]
bgmap[[2]][,1]
bgmap[[3]][,1]
z <- rgb(bgmap[[1]][,1],bgmap[[2]][,1],bgmap[[3]][,1],maxColorValue = 255)
df <- data.frame(coordinates(bgmap),fill = z)
ggplot() + geom_tile(data = head(df), aes(x,y,fill = fill)) + scale_fill_identity()
ggplot() + geom_tile(data = head(df,100), aes(x,y,fill = fill)) + scale_fill_identity()
ggplot() + geom_tile(data = head(df,1000), aes(x,y,fill = fill)) + scale_fill_identity()
ggplot() + geom_tile(data = head(df,10000), aes(x,y,fill = fill)) + scale_fill_identity()
ggplot() + geom_tile(data = head(df,100000), aes(x,y,fill = fill)) + scale_fill_identity()
nrow(df)
ggplot() + geom_tile(data = head(df,1000000), aes(x,y,fill = fill)) + scale_fill_identity()
bgmap[[1]]
bgmap[[1]][,1]
bgmap[[2]][,1]
bgmap[[3]][,1]
bgmap[[3]][1]
df
nrow(df)
length(z)
coordinates(bgmap)
coordinates(bgmap)
df <- data.frame(coordinates(bgmap)[1:100],fill = z[1:100])
ggplot() + geom_tile(data = head(df,1000000), aes(x,y,fill = fill)) + scale_fill_identity()
df
df <- data.frame(coordinates(bgmap)[1:100,],fill = z[1:100])
ggplot() + geom_tile(data = head(df,1000000), aes(x,y,fill = fill)) + scale_fill_identity()
df <- data.frame(coordinates(bgmap)[1:1000,],fill = z[1:1000])
ggplot() + geom_tile(data = head(df,1000000), aes(x,y,fill = fill)) + scale_fill_identity()
z
z
bgmap[1]
bgmap[[1]]
bgmap[[1]]$SMR10_LV95_KREL_10L_Mosaic.1
bgmap[[1]][,1]
nrow(bgmap[[1]][,1])
length(bgmap[[1]][,1])
dims(coordinates(bgmap))
dim(coordinates(bgmap))
head(bgmap[[1]][,1])
head(bgmap[[1]][,2])
bgmap[[1]]
values(bgmap[[1]])
z <- rgb(values(bgmap[[1]]),bgmap[[2]],bgmap[[3]],maxColorValue = 255)
z <- rgb(values(bgmap[[1]]),values(bgmap[[2]]),values(bgmap[[3]]),maxColorValue = 255)
df <- data.frame(coordinates(bgmap),fill = z)
ggplot() + geom_tile(data = head(df,100), aes(x,y,fill = fill)) + scale_fill_identity()
ggplot() + geom_tile(data = head(df,1000), aes(x,y,fill = fill)) + scale_fill_identity()
ggplot() + geom_tile(data = head(df,10000), aes(x,y,fill = fill)) + scale_fill_identity()
ggplot() + geom_tile(data = head(df,50000), aes(x,y,fill = fill)) + scale_fill_identity()
ggplot() + geom_tile(data = df, aes(x,y,fill = fill)) + scale_fill_identity()
raster::sampleRegular(bgmap,10000)
bgmap_resample <- raster::sampleRegular(bgmap,10000)
bgmap <- raster::sampleRegular(bgmap,10000)
z <- rgb(values(bgmap[[1]]),values(bgmap[[2]]),values(bgmap[[3]]),maxColorValue = 255)
bgmap
bgmap[,1]
values(bgmap)
bgmap
bgmap <- brick(path)
??raster::aggregate
raster::aggregate(bgmap, fact = 10)
bgmap <- raster::aggregate(bgmap, fact = 10)
z <- rgb(values(bgmap[[1]]),values(bgmap[[2]]),values(bgmap[[3]]),maxColorValue = 255)
df <- data.frame(coordinates(bgmap),fill = z)
ggplot() +
geom_tile(data = df, aes(x,y,fill = fill)) +
scale_fill_identity() +
coord_equal()
bgmap <- raster::aggregate(bgmap, fact = 5)
z <- rgb(values(bgmap[[1]]),values(bgmap[[2]]),values(bgmap[[3]]),maxColorValue = 255)
df <- data.frame(coordinates(bgmap),fill = z)
ggplot() +
geom_tile(data = df, aes(x,y,fill = fill)) +
scale_fill_identity() +
coord_equal()
bgmap <- brick(path)
bgmap <- raster::aggregate(bgmap, fact = 5)
z <- rgb(values(bgmap[[1]]),values(bgmap[[2]]),values(bgmap[[3]]),maxColorValue = 255)
df <- data.frame(coordinates(bgmap),fill = z)
ggplot() +
geom_tile(data = df, aes(x,y,fill = fill)) +
scale_fill_identity() +
coord_equal()
path <- "sample_data/SMR_10_Musterdaten/SMR50_LV95_KOMB_Mosaic.tif"
bgmap <- raster(path)
bgmap
colortable(bgmap)
path_1b <- "sample_data/SMR_10_Musterdaten/SMR50_LV95_KOMB_Mosaic.tif"
path_3b <-"sample_data/SMR_10_Musterdaten/SMR10_LV95_KREL_10L_Mosaic.tif"
path_1b <- "sample_data/SMR_Musterdaten/SMR50_LV95_KOMB_Mosaic.tif"
path_3b <- "sample_data/SMR_Musterdaten/SMR50_LV95_KREL_10L_Mosaic.tif"
raster(path_1b)
raster(path_3b)
colortable(map_1b)
map_1b <- raster(path_1b)
map_3b <- brick(path_3b)
colortable(map_1b)
scales::show_col(coltab)
coltab <- colortable(map_1b)
coltab
scales::show_col(coltab)
scales::show_col(coltab,labels = FALSE)
map.df <- data.frame(rasterToPoints(map_1b))
rasterToPoints(map_1b)
names(coltab) <- 0:(length(coltab) - 1)
coltab
ggplot() +
geom_tile(map.df)
ggplot() +
geom_tile(data = map.df)
ggplot() +
geom_tile(data = map.df, aes(x,y))
map.df
nrow(map.df)
aggregate(map_1b,frac = 5)
map_1b <- aggregate(map_1b,frac = 5)
coltab <- colortable(map_1b)
coltab
scales::show_col(coltab,labels = FALSE)
coltab
map_1b
map_1b
map_1b <- raster(path_1b)
colortable(map_1b)
map_1b <- aggregate(map_1b,frac = 5)
coltab
map_1b <- raster(path_1b)
coltab <- colortable(map_1b)
map_1b <- aggregate(map_1b,frac = 5)
map_1b
coltab
scales::show_col(coltab,labels = FALSE)
map.df <- data.frame(rasterToPoints(map_1b))
names(coltab) <- 0:(length(coltab) - 1)
ggplot() +
geom_tile(data = map.df, aes(x,y))
coltab
map.df
ggplot() +
geom_tile(data = map.df, aes(x,y, fill = SMR50_LV95_KOMB_Mosaic)) +
scale_fill_manual(coltab)
coltab
coordinates(map_1b)
map_1b
getValues(map_1b)
map.df <- data.frame(coordinates(map_1b),fill = getValues(map_1b))
ggplot() +
geom_tile(data = map.df, aes(x,y, fill = fill)) +
scale_fill_identity()
map_1b <- raster(path_1b)
map.df <- data.frame(coordinates(map_1b),fill = getValues(map_1b))
coltab <- colortable(map_1b)
# map_1b <- aggregate(map_1b,frac = 5)
coltab
scales::show_col(coltab,labels = FALSE)
map.df <- data.frame(coordinates(map_1b),fill = getValues(map_1b))
names(coltab) <- 0:(length(coltab) - 1)
ggplot() +
geom_tile(data = map.df, aes(x,y, fill = fill)) +
scale_fill_identity()
names(coltab)
getValues(map_1b)
coltab
getValues(map_1b)[coltab]
getValues(map_1b)
coltab
ggplot() +
geom_tile(data = map.df, aes(x,y, fill = fill)) +
scale_fill_manual(values = coltab)
coltab
map.df
str(map.df)
min(map.df)
min(map.df$fill)
min(coltab)
map.df
getValues(map_1b)
coltab[getValues(map_1b)]
map.df <- data.frame(coordinates(map_1b),fill = coltab(getValues(map_1b)))
map.df <- data.frame(coordinates(map_1b),fill = coltab[getValues(map_1b)])
ggplot() +
geom_tile(data = map.df, aes(x,y, fill = fill)) +
scale_fill_identity()
coltab <- colortable(map_1b)
coltab
map.df <- data.frame(coordinates(map_1b),fill = coltab[getValues(map_1b)])
ggplot() +
geom_tile(data = map.df, aes(x,y, fill = fill)) +
scale_fill_identity()
# Chunk 1
library(sf)
library(tidyverse)
eire <- read_sf(system.file("shapes/eire.shp", package="spData"))
# Chunk 2
st_crs(eire)
ggplot(eire) +
geom_sf()
# Chunk 3
eire <- st_set_crs(eire, "+proj=utm +zone=30 +ellps=airy +units=km")
ggplot(eire) +
geom_sf()
# Chunk 4
ggplot(eire) +
geom_sf(aes(fill = INCOME))
# Chunk 5
ggplot(eire) +
geom_sf(aes(fill = log(INCOME)), colour = "grey") +
labs(title = "Counties of the Irish Republic",
subtitle = expression("Distribution of Income (log"[10]*")"),
fill = "") +
scale_fill_viridis_c() +
theme_void() +
theme(legend.position = "bottom")
# Chunk 6
library(raster)
path_1b <- "sample_data/SMR_Musterdaten/SMR50_LV95_KOMB_Mosaic.tif"
path_3b <- "sample_data/SMR_Musterdaten/SMR50_LV95_KREL_10L_Mosaic.tif"
raster(path_1b)
raster(path_3b)
# Chunk 7
map_1b <- raster(path_1b)
map_3b <- brick(path_3b)
coltab <- colortable(map_1b)
coltab
scales::show_col(coltab,labels = FALSE)
scales::show_col(coltab,labels = TRUE)
map.df <- data.frame(coordinates(map_1b),fill = getValues(map_1b), fill2 = coltab[fill])
coltab
map.df <- data.frame(coordinates(map_1b),filli = getValues(map_1b), fill2 = coltab[filli])
map.df <- data.frame(coordinates(map_1b),filli = getValues(map_1b)) %>%
mutate(fill2 = coltab[filli])
View(map.df)
ggplot() +
geom_tile(data = map.df, aes(x,y, fill = fill2)) +
scale_fill_identity()
ggplot() +
geom_tile(data = map.df, aes(x,y, fill = factor(fill2)))
scales::show_col("#1B1A23")
scales::show_col("#1C1B23")
ggplot() +
geom_tile(data = map.df, aes(x,y, fill = fill2)) +
scale_fill_identity()
map.df <- data.frame(coordinates(map_1b),filli = getValues(map_1b)+1) %>%
mutate(fill2 = coltab[filli])
ggplot() +
geom_tile(data = map.df, aes(x,y, fill = fill2)) +
scale_fill_identity()
coltab <- colortable(map_1b)
coltab
scales::show_col(coltab,labels = FALSE)
map_1b
is.matrix(map_1b)
is.matrix(map_1b$SMR50_LV95_KOMB_Mosaic)
raster(path_1b)
str(map_1b)
map_1b@data
map_1b@data
map_1b@data[[1]]
map_1b@data[1]
map_1b@data
map_1b@data$attributes
map_1b@data@attributes
map_1b@data@values
map_1b_df
map_1b_df <- data.frame(coordinates(map_1b),values = getValues(map_1b))
map_1b_df
head(map_1b_df)
coltab
map_1b_df
head(map_1b_df)
ggplot() +
geom_tile(data = map.df, aes(x,y, fill = factor(values))) +
scale_fill_manual(values = coltab)
ggplot() +
geom_tile(data = map.df, aes(x,y, fill = factor(values)))
ggplot() +
geom_tile(data = map_1b_df, aes(x,y, fill = factor(values))) +
scale_fill_manual(values = coltab)
map_1b_df <- data.frame(coordinates(map_1b),values = getValues(map_1b)+1)
ggplot() +
geom_tile(data = map_1b_df, aes(x,y, fill = factor(values))) +
scale_fill_manual(values = coltab)
coltab
names(coltab) <- 0:255
coltab
ggplot() +
geom_tile(data = map_1b_df, aes(x,y, fill = factor(values))) +
scale_fill_manual(values = coltab)
names(coltab) <- 1:256
ggplot() +
geom_tile(data = map_1b_df, aes(x,y, fill = factor(values))) +
scale_fill_manual(values = coltab)
map_1b_df <- data.frame(coordinates(map_1b),values = getValues(map_1b))
map_1b_df <- data.frame(coordinates(map_1b),values = getValues(map_1b))
head(map_1b_df)
names(coltab) <- 0:255
ggplot() +
geom_tile(data = map_1b_df, aes(x,y, fill = factor(values))) +
scale_fill_manual(values = coltab)
map_1b
str(map_1b)
getValues(map_1b)
getValues(map_1b)
head(getValues(map_1b))
head(getValues(map_1b),50)
head(getValues(map_1b),100)
head(getValues(map_1b),50)
extent(map_1b)
plotRGB(map_1b)
plot(map_1b)
ggplot() +
geom_tile(data = map_1b_df, aes(x,y, fill = (values))) +
scale_fill_manual(values = coltab)
ggplot() +
geom_tile(data = map_1b_df, aes(x,y, fill = factor(values))) +
scale_fill_manual(values = coltab)
map_1b_df
map_1b_df %>%
mutate(colorvalue = coltab[values+1])
map_1b_df <- map_1b_df %>%
mutate(colorvalue = coltab[values+1])
ggplot() +
geom_tile(data = map_1b_df, aes(x,y, fill = colorvalue)) +
scale_fill_identity() +
theme(legend.position = "none") +
coord_equal()
map_3b
z <- rgb(values(map_3b[[1]]),values(map_3b[[2]]),values(map_3b[[3]]),maxColorValue = 255)
df <- data.frame(coordinates(map_3b),fill = z)
ggplot() +
geom_tile(data = df, aes(x,y,fill = fill)) +
scale_fill_identity() +
coord_equal()
map_3b[[1]]
map_3b[[1]]
map_3b
values(map_3b[[1]])
head(values(map_3b[[1]]),50)
cols <- rgb(values(map_3b[[1]]),values(map_3b[[2]]),values(map_3b[[3]]),maxColorValue = 255)
coordinates(map_3b)
rgb(10,10,10,maxColorValue = 255)
cols <- rgb(values(map_3b[[1]]),values(map_3b[[2]]),values(map_3b[[3]]),maxColorValue = 255)
cols
head(cols,5)
head(cols,50)
map_3b_df <- data.frame(coordinates(map_3b),fill = cols)
head(map_3b_df)
map_3b_df <- data.frame(coordinates(map_3b),colorvalue = cols)
ggplot() +
geom_tile(data = df, aes(x,y,fill = colorvalue)) +
scale_fill_identity() +
coord_equal()
map_3b_df <- data.frame(coordinates(map_3b),colorvalue = cols)
ggplot() +
geom_tile(data = map_3b_df, aes(x,y,fill = colorvalue)) +
scale_fill_identity() +
coord_equal()
map_3b_lowres <- raster::aggregate(map_3b, fact = 5)
map_3b_lowres_df <- data.frame(coordinates(map_3b_lowres),colorvalue = rgb(values(map_3b_lowres[[1]]),values(map_3b_lowres[[2]]),values(map_3b_lowres[[3]]),maxColorValue = 255))
ggplot() +
geom_tile(data = map_3b_lowres_df, aes(x,y,fill = colorvalue)) +
scale_fill_identity() +
coord_equal()
ggplot() +
geom_raster(data = map_3b_lowres_df, aes(x,y,fill = colorvalue)) +
scale_fill_identity() +
coord_equal()
ggplot() +
geom_raster(data = map_1b_df, aes(x,y, fill = factor(values))) +
scale_fill_manual(values = coltab) +
theme(legend.position = "none") +
coord_equal()
path_grey <- "sample_data/SMR_Musterdaten/SMR50_LV95_KGRS_Mosaic.tif"
raster::raster(path_grey)
map_1b_grey <- raster("sample_data/SMR_Musterdaten/SMR50_LV95_KGRS_Mosaic.tif")
map_1b_grey
getValues(map_1b_grey)
map_grey <- raster("sample_data/SMR_Musterdaten/SMR50_LV95_KGRS_Mosaic.tif")
map_grey_df <- data.frame(coordinates(map_grey),values = getValues(map_grey))
map_grey_df
ggplot() +
geom_raster(data = map_grey_df, aes(x,y, fill = values)) +
scale_fill_continuous()
colortable(map_grey_df)
scales::show_col("#1B1A23")
ggplot() +
geom_raster(data = map_grey_df, aes(x,y, fill = values)) +
scale_fill_grey()
ggplot() +
geom_raster(data = map_grey_df, aes(x,y, fill = factor(values))) +
scale_fill_grey()
ggplot() +
geom_raster(data = map_grey_df, aes(x,y, fill = factor(-values))) +
scale_fill_grey()
ggplot() +
geom_raster(data = map_grey_df, aes(x,y, fill = fct_rev(values))) +
scale_fill_grey()
ggplot() +
geom_raster(data = map_grey_df, aes(x,y, fill = fct_rev(factor(values)))) +
scale_fill_grey()
ggplot() +
geom_raster(data = map_grey_df, aes(x,y, fill = fct_rev(factor(values)))) +
scale_fill_grey() +
coord_equal()
plot(map_grey)
rev(terrain.colors(255)
)
map_grey_df
View(map_1b_grey)
View(map_grey_df)
gray.colors(n, start = 0.3, end = 0.9, gamma = 2.2, alpha, rev = FALSE)
gray.colors(10, start = 0.3, end = 0.9, gamma = 2.2, alpha, rev = FALSE)
gray.colors(10)
scales::show_col(gray.colors(10))
map_grey
getValues(map_grey)
ggplot() +
geom_raster(data = map_grey_df, aes(x,y, fill = fct_rev(factor(values)))) +
scale_fill_grey() +
coord_equal()
raster::RGB(map_grey)
raster::RGB(map_grey) -> sdfl
plotRGB(sdfl)
raster::factorValues(map_1b)
tiff::readTIFF("sample_data/SMR_Musterdaten/SMR50_LV95_KGRS_Mosaic.tif")
tiff::readTIFF("sample_data/SMR_Musterdaten/SMR50_LV95_KGRS_Mosaic.tif",convert = TRUE)
tiff::readTIFF("sample_data/SMR_Musterdaten/SMR50_LV95_KGRS_Mosaic.tif",convert = TRUE) -> sdf
sdf
str(sdf)
tiff::readTIFF("sample_data/SMR_Musterdaten/SMR50_LV95_KGRS_Mosaic.tif",native = TRUE, convert = TRUE) -> sdf
sdf
tiff::readTIFF("sample_data/SMR_Musterdaten/SMR50_LV95_KGRS_Mosaic.tif",convert = TRUE, info = TRUE) -> sdf
sf
sdf
sdf["color.space"]
sdf["color.map"]
tiff::readTIFF("sample_data/SMR_Musterdaten/SMR50_LV95_KGRS_Mosaic.tif",indexed = TRUE) -> sdf
sdf
map_grey_path <- "sample_data/SMR_Musterdaten/SMR50_LV95_KGRS_Mosaic.tif"
map_grey <- raster(map_grey_path)
library(tiff)
index <- readTIFF(map_grey_path,indexed = TRUE)
index
rbg(index[1,],index[2,],index[3,])
rgb(index[1,],index[2,],index[3,])
index[1,]
index
str(index)
index["color.map"]
attr(index,"color.map")
colormap <- attr(index,"color.map")
colormap[1,]
rgb(colormap[1,],colormap[2,],colormap[3,])
scales::show_col(rgb(colormap[1,],colormap[2,],colormap[3,]))
colortab <- scales::show_col(rgb(colormap[1,],colormap[2,],colormap[3,]))
colortab
colormap <- attr(index,"color.map")
colormap
colortab <- scales::show_col(rgb(colormap[1,],colormap[2,],colormap[3,]))
colortab
scales::show_col(colortab)
colortab
colortab <- rgb(colormap[1,],colormap[2,],colormap[3,])
scales::show_col(colortab)
coltab <- rgb(colormap[1,],colormap[2,],colormap[3,])
ggplot() +
geom_raster(data = map_1b_df, aes(x,y, fill = factor(values))) +
scale_fill_manual(values = coltab) +
theme(legend.position = "none") +
coord_equal()
values
map_grey_df <- data.frame(coordinates(map_grey),values = getValues(map_grey))
coltab
ggplot() +
geom_raster(data = map_1b_df, aes(x,y, fill = factor(values+1))) +
scale_fill_manual(values = coltab) +
theme(legend.position = "none") +
coord_equal()
map_grey_df
coltab
names(coltab) <- 0:255
ggplot() +
geom_raster(data = map_1b_df, aes(x,y, fill = factor(values))) +
scale_fill_manual(values = coltab) +
theme(legend.position = "none") +
coord_equal()
names(coltab) <- 1:256
ggplot() +
geom_raster(data = map_1b_df, aes(x,y, fill = factor(values))) +
scale_fill_manual(values = coltab) +
theme(legend.position = "none") +
coord_equal()
names(coltab) <- 0:255
ggplot() +
geom_raster(data = map_1b_df, aes(x,y, fill = factor(values))) +
scale_fill_manual(values = coltab) +
theme(legend.position = "none") +
coord_equal()
ggplot() +
geom_raster(data = map_grey_df, aes(x,y, fill = factor(values))) +
scale_fill_manual(values = coltab) +
theme(legend.position = "none") +
coord_equal()
colormap
colormap
head(colormap)
colormap[,1:10]
