## Interactive Maps

As introduced in chapter [Making Maps], an interactive Map is the fundamental building block of ArcGIS. In R, we need to do some extra work to create such an interactive map, but this extra work sometimes means just one line of code. There are multiple packages that simplify creating maps:

- [`leaflet`](https://rstudio.github.io/leaflet/)
- [`mapview`](https://r-spatial.github.io/mapview/)
- [`tmap`](https://github.com/mtennekes/tmap)
- [`plotly`](https://plotly.com/r/)

`mapview` and `tmap` both build on the package `leaflet`, which in turn builds on [leaflet](https://leafletjs.com/), an open source JavaScript Library for interactive maps. There really is not much need to learn `leaflet`, since using `mapview` or `tmap` is much simpler. 

The package `plotly` builds on [plotly](https://plotly.com/), a very versatile graphics library that provides an API for `R`, `Python` and `Julia`. It is an amazing tool, but we will focus more on `mapview` and `tmap`.



### Package `mapview`

The package `mapview` is highly automated and you get a very decent map when calling the function `mapview::mapview` on your geodata, without any additional arguments. The aim of the package is to be quick and easy:

> Itâ€™s main goal is to fill the gap of quick [...] interactive plotting to examine and visually investigate both aspects of spatial data, the geometries and their attributes.

```{r}
library(arc2r)
library(sf)
library(raster)
library(mapview)
```

```{r}
mapview(gemeindegrenzen_zh)
```




### Package `tmap`


//todo replace dataset with a swiss dataset


//todo add prerequisite chapter static map on tmap
To see how it works, import the usual libraries and the North Carolina Sample data.


```{r}
library(sf)
library(tidyverse)
library(tmap)

nc <- st_read(system.file("shape/nc.shp", package = "sf"),quiet = TRUE)
```

Here's how the data looks in base plot:

```{r, echo = FALSE}
plot(st_geometry(nc))
```

`tmap` has two modes: a static mode for printable maps (called `plot`) and a dynamic mode for exploratory, interactive maps (called `view`). We want the latter for now, so we switch to the dynamic mode with: 
```{r}
tmap_mode("view")
```

`tmap` has based it's syntax loosely on `ggplot2`: Mainly, layer are added with `+` and aesthetics are specified within each layer.
```{r}
tm_shape(nc) +
  tm_polygons()
```

You can have a look at the attributes of each feature by clicking on it. To view the entire attribute table, you can print `nc` to the console, or have a look at it with `View(nc)` if you are using Rstudio.

Check the following resources for more information:

- https://github.com/mtennekes/tmap
- https://geocompr.robinlovelace.net/adv-map.html#interactive-maps

