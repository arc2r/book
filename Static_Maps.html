<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3.1 Static Maps | All things R Spatial</title>
  <meta name="description" content="3.1 Static Maps | All things R Spatial" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="3.1 Static Maps | All things R Spatial" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3.1 Static Maps | All things R Spatial" />
  
  
  

<meta name="author" content="Nils Ratnaweera and Nikolaos Bakogiannis" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="Making_Maps.html"/>
<link rel="next" href="Dynamic_Maps.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.0.4.1/leaflet-providers-plugin.js"></script>
<script src="libs/FlatGeoBuf-3.3.3/fgb.js"></script>
<script src="libs/FlatGeoBuf-3.3.3/flatgeobuf-geojson.min.js"></script>
<script src="libs/chromajs-2.1.0/chroma.min.js"></script>
<link id="gemeindegrenzen_zh-1-attachment" rel="attachment" href="libs/gemeindegrenzen_zh-0.0.1/gemeindegrenzen_zh_layer.fgb"/>
<link href="libs/HomeButton-0.0.1/home-button.css" rel="stylesheet" />
<script src="libs/HomeButton-0.0.1/home-button.js"></script>
<script src="libs/HomeButton-0.0.1/easy-button-src.min.js"></script>
<script src="libs/clipboard-0.0.1/setClipboardText.js"></script>
<link href="libs/mapviewCSS-0.0.1/mapview-popup.css" rel="stylesheet" />
<link href="libs/mapviewCSS-0.0.1/mapview.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://arc2r.github.io/arc2r">Package Website</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> What this book is about</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#how-it-started"><i class="fa fa-check"></i><b>1.1</b> How it started</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#what-might-make-your-journey-difficult"><i class="fa fa-check"></i><b>1.2</b> What might make your journey difficult</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#why-you-should-transition-anyway"><i class="fa fa-check"></i><b>1.3</b> Why you should transition anyway</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#how-to-use-this-book"><i class="fa fa-check"></i><b>1.4</b> How to use this book</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="Data.html"><a href="Data.html"><i class="fa fa-check"></i><b>2</b> Data</a>
<ul>
<li class="chapter" data-level="2.1" data-path="import_vector.html"><a href="import_vector.html"><i class="fa fa-check"></i><b>2.1</b> Importing vector data with <code>sf</code></a></li>
<li class="chapter" data-level="2.2" data-path="import_raster_raster.html"><a href="import_raster_raster.html"><i class="fa fa-check"></i><b>2.2</b> Importing raster data with <code>raster</code></a></li>
<li class="chapter" data-level="2.3" data-path="import_raster_raster.html"><a href="import_raster_raster.html#single-band-raster"><i class="fa fa-check"></i><b>2.3</b> Single band raster</a></li>
<li class="chapter" data-level="2.4" data-path="import_raster_raster.html"><a href="import_raster_raster.html#multiband-raster"><i class="fa fa-check"></i><b>2.4</b> Multiband Raster</a></li>
<li class="chapter" data-level="2.5" data-path="import_raster_terra.html"><a href="import_raster_terra.html"><i class="fa fa-check"></i><b>2.5</b> Importing raster data with <code>terra</code></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="Making_Maps.html"><a href="Making_Maps.html"><i class="fa fa-check"></i><b>3</b> Making Maps</a>
<ul>
<li class="chapter" data-level="3.1" data-path="Static_Maps.html"><a href="Static_Maps.html"><i class="fa fa-check"></i><b>3.1</b> Static Maps</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="Static_Maps.html"><a href="Static_Maps.html#package-ggplot2"><i class="fa fa-check"></i><b>3.1.1</b> Package <code>ggplot2</code></a></li>
<li class="chapter" data-level="3.1.2" data-path="Static_Maps.html"><a href="Static_Maps.html#package-tmap"><i class="fa fa-check"></i><b>3.1.2</b> Package <code id="static-maps-tmap">tmap</code></a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="Dynamic_Maps.html"><a href="Dynamic_Maps.html"><i class="fa fa-check"></i><b>3.2</b> Interactive Maps</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="Dynamic_Maps.html"><a href="Dynamic_Maps.html#package-mapview"><i class="fa fa-check"></i><b>3.2.1</b> Package <code>mapview</code></a></li>
<li class="chapter" data-level="3.2.2" data-path="Dynamic_Maps.html"><a href="Dynamic_Maps.html#package-tmap-1"><i class="fa fa-check"></i><b>3.2.2</b> Package <code>tmap</code></a></li>
<li class="chapter" data-level="3.2.3" data-path="Dynamic_Maps.html"><a href="Dynamic_Maps.html#further-ressources"><i class="fa fa-check"></i><b>3.2.3</b> Further ressources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="Selection.html"><a href="Selection.html"><i class="fa fa-check"></i><b>4</b> Selection</a>
<ul>
<li class="chapter" data-level="4.1" data-path="Select_by_Attribute.html"><a href="Select_by_Attribute.html"><i class="fa fa-check"></i><b>4.1</b> Select by Attribute</a></li>
<li class="chapter" data-level="4.2" data-path="Select_by_Location.html"><a href="Select_by_Location.html"><i class="fa fa-check"></i><b>4.2</b> Select by Location</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="Data_Management.html"><a href="Data_Management.html"><i class="fa fa-check"></i><b>5</b> Data Management Toolbox</a>
<ul>
<li class="chapter" data-level="5.1" data-path="Data_Management.html"><a href="Data_Management.html#joins-toolset"><i class="fa fa-check"></i><b>5.1</b> Joins Toolset</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="Data_Management.html"><a href="Data_Management.html#inner-join"><i class="fa fa-check"></i><b>5.1.1</b> Inner join</a></li>
<li class="chapter" data-level="5.1.2" data-path="Data_Management.html"><a href="Data_Management.html#outer-join"><i class="fa fa-check"></i><b>5.1.2</b> Outer join</a></li>
<li class="chapter" data-level="5.1.3" data-path="Data_Management.html"><a href="Data_Management.html#left-right-join"><i class="fa fa-check"></i><b>5.1.3</b> Left / Right join</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="Data_Management.html"><a href="Data_Management.html#projections-and-transformations-toolset"><i class="fa fa-check"></i><b>5.2</b> Projections and Transformations Toolset</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="Data_Management.html"><a href="Data_Management.html#reproject-vector-data-in-r"><i class="fa fa-check"></i><b>5.2.1</b> Reproject vector data in R</a></li>
<li class="chapter" data-level="5.2.2" data-path="Data_Management.html"><a href="Data_Management.html#reproject-raster-data-in-r"><i class="fa fa-check"></i><b>5.2.2</b> Reproject raster data in R</a></li>
<li class="chapter" data-level="5.2.3" data-path="Data_Management.html"><a href="Data_Management.html#generate-tessellation"><i class="fa fa-check"></i><b>5.2.3</b> Generate Tessellation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="Spatial_Analyst.html"><a href="Spatial_Analyst.html"><i class="fa fa-check"></i><b>6</b> Spatial Analyst Toolbox</a>
<ul>
<li class="chapter" data-level="6.1" data-path="Spatial_Analyst.html"><a href="Spatial_Analyst.html#conditional-toolset"><i class="fa fa-check"></i><b>6.1</b> Conditional Toolset</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="Spatial_Analyst.html"><a href="Spatial_Analyst.html#kernel-density"><i class="fa fa-check"></i><b>6.1.1</b> Kernel Density</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="Spatial_Analyst.html"><a href="Spatial_Analyst.html#reclass-toolset"><i class="fa fa-check"></i><b>6.2</b> Reclass Toolset</a></li>
<li class="chapter" data-level="6.3" data-path="Spatial_Analyst.html"><a href="Spatial_Analyst.html#surface-toolset"><i class="fa fa-check"></i><b>6.3</b> Surface Toolset</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="Spatial_Analyst.html"><a href="Spatial_Analyst.html#slope-and-aspect"><i class="fa fa-check"></i><b>6.3.1</b> Slope and Aspect</a></li>
<li class="chapter" data-level="6.3.2" data-path="Spatial_Analyst.html"><a href="Spatial_Analyst.html#reclassify"><i class="fa fa-check"></i><b>6.3.2</b> Reclassify</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="3D_Analyst.html"><a href="3D_Analyst.html"><i class="fa fa-check"></i><b>7</b> 3D Analyst Toolbox</a>
<ul>
<li class="chapter" data-level="7.1" data-path="3D_Analyst.html"><a href="3D_Analyst.html#raster-interpolation-toolset"><i class="fa fa-check"></i><b>7.1</b> Raster Interpolation Toolset</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="3D_Analyst.html"><a href="3D_Analyst.html#idw"><i class="fa fa-check"></i><b>7.1.1</b> IDW</a></li>
<li class="chapter" data-level="7.1.2" data-path="3D_Analyst.html"><a href="3D_Analyst.html#kriging"><i class="fa fa-check"></i><b>7.1.2</b> Kriging</a></li>
<li class="chapter" data-level="7.1.3" data-path="3D_Analyst.html"><a href="3D_Analyst.html#natural-neighbor"><i class="fa fa-check"></i><b>7.1.3</b> Natural Neighbor</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="Image_Analysis.html"><a href="Image_Analysis.html"><i class="fa fa-check"></i><b>8</b> Image Analysis Toolbox</a>
<ul>
<li class="chapter" data-level="8.1" data-path="Image_Analysis.html"><a href="Image_Analysis.html#map-algebra-toolset"><i class="fa fa-check"></i><b>8.1</b> Map Algebra Toolset</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="Image_Analysis.html"><a href="Image_Analysis.html#raster-calulator"><i class="fa fa-check"></i><b>8.1.1</b> Raster Calulator</a></li>
<li class="chapter" data-level="8.1.2" data-path="Image_Analysis.html"><a href="Image_Analysis.html#focal-statistics"><i class="fa fa-check"></i><b>8.1.2</b> Focal Statistics</a></li>
<li class="chapter" data-level="8.1.3" data-path="Image_Analysis.html"><a href="Image_Analysis.html#zonal-statistics"><i class="fa fa-check"></i><b>8.1.3</b> Zonal Statistics</a></li>
<li class="chapter" data-level="8.1.4" data-path="Image_Analysis.html"><a href="Image_Analysis.html#zonal-statistics-1"><i class="fa fa-check"></i><b>8.1.4</b> Zonal Statistics</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="Analysis.html"><a href="Analysis.html"><i class="fa fa-check"></i><b>9</b> Analysis Toolbox</a>
<ul>
<li class="chapter" data-level="9.1" data-path="Analysis.html"><a href="Analysis.html#clip"><i class="fa fa-check"></i><b>9.1</b> Clip</a></li>
<li class="chapter" data-level="9.2" data-path="Analysis.html"><a href="Analysis.html#merge"><i class="fa fa-check"></i><b>9.2</b> Merge</a></li>
<li class="chapter" data-level="9.3" data-path="Analysis.html"><a href="Analysis.html#spatial-join"><i class="fa fa-check"></i><b>9.3</b> Spatial Join</a></li>
<li class="chapter" data-level="9.4" data-path="Analysis.html"><a href="Analysis.html#buffer"><i class="fa fa-check"></i><b>9.4</b> Buffer</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="Chapter_overview.html"><a href="Chapter_overview.html"><i class="fa fa-check"></i><b>10</b> Topology Rules</a>
<ul>
<li class="chapter" data-level="10.1" data-path="Polygon.html"><a href="Polygon.html"><i class="fa fa-check"></i><b>10.1</b> Polygon</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="Polygon.html"><a href="Polygon.html#must-not-overlap"><i class="fa fa-check"></i><b>10.1.1</b> Must not overlap</a></li>
<li class="chapter" data-level="10.1.2" data-path="Polygon.html"><a href="Polygon.html#must-not-have-gaps"><i class="fa fa-check"></i><b>10.1.2</b> Must not have gaps</a></li>
<li class="chapter" data-level="10.1.3" data-path="Polygon.html"><a href="Polygon.html#contains-point"><i class="fa fa-check"></i><b>10.1.3</b> Contains point</a></li>
<li class="chapter" data-level="10.1.4" data-path="Polygon.html"><a href="Polygon.html#contains-one-point"><i class="fa fa-check"></i><b>10.1.4</b> Contains one Point</a></li>
<li class="chapter" data-level="10.1.5" data-path="Polygon.html"><a href="Polygon.html#must-be-covered-by-feature-class-of"><i class="fa fa-check"></i><b>10.1.5</b> Must be covered by feature class of</a></li>
<li class="chapter" data-level="10.1.6" data-path="Polygon.html"><a href="Polygon.html#boundary-must-be-covered-by"><i class="fa fa-check"></i><b>10.1.6</b> Boundary must be covered by</a></li>
<li class="chapter" data-level="10.1.7" data-path="Polygon.html"><a href="Polygon.html#must-not-overlap-with"><i class="fa fa-check"></i><b>10.1.7</b> Must not overlap with</a></li>
<li class="chapter" data-level="10.1.8" data-path="Polygon.html"><a href="Polygon.html#must-be-covered-by"><i class="fa fa-check"></i><b>10.1.8</b> Must be covered by</a></li>
<li class="chapter" data-level="10.1.9" data-path="Polygon.html"><a href="Polygon.html#area-boundary-must-be-covered-by-boundary-of"><i class="fa fa-check"></i><b>10.1.9</b> Area boundary must be covered by boundary of</a></li>
<li class="chapter" data-level="10.1.10" data-path="Polygon.html"><a href="Polygon.html#must-cover-each-other"><i class="fa fa-check"></i><b>10.1.10</b> Must cover each other</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://www.zhaw.ch/de/lsfm/institute-zentren/iunr/ecosystems-and-biodiversity/geoinformatik/">
Developped by the Research Group for Geoinformatics @ ZHAW</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">All things R Spatial</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="static-maps" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Static Maps</h2>
<p>As we saw in chapter <a href="Data.html#data">Data</a>, we can quickly visualize geodata by simply calling <code>plot</code> on the dataset.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="Static_Maps.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(arc2r) </span>
<span id="cb11-2"><a href="Static_Maps.html#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb11-3"><a href="Static_Maps.html#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="do">## Linking to GEOS 3.8.1, GDAL 3.1.4, PROJ 6.3.1</span></span>
<span id="cb11-4"><a href="Static_Maps.html#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(raster)</span>
<span id="cb11-5"><a href="Static_Maps.html#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="Static_Maps.html#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(gemeinde_zh[<span class="st">&quot;bezirksnam&quot;</span>])</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="Static_Maps.html#cb12-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-2"><a href="Static_Maps.html#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(swissAlti3D)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-15-2.png" width="672" /></p>
<p>This is fine for quick view of the data, but as you want to add more layers, legend etc. using <code>base::plot()</code> becomes complicated. There are many alternative methods to visualizing spatial data, we will showcase our favourite methods here.</p>
<div id="package-ggplot2" class="section level3" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> Package <code>ggplot2</code></h3>
<p>If you are familiar with <code>ggplot2</code> you can rejoice: Plotting <code>sf</code> objects has become <em>very</em> easy with this package. If you do not know this package yet, we recommend you familiarize yourself with it first before diving into this chapter. We will continue to work with the datasets used above</p>
<div id="sf-objects" class="section level4" number="3.1.1.1">
<h4><span class="header-section-number">3.1.1.1</span> <code>sf</code> objects</h4>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="Static_Maps.html#cb13-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-2"><a href="Static_Maps.html#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb13-3"><a href="Static_Maps.html#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="Static_Maps.html#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gemeinde_zh) <span class="sc">+</span></span>
<span id="cb13-5"><a href="Static_Maps.html#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p>In its most basic form, we can visualize the geometry of our <code>sf</code> object.As always in <code>ggplot2</code>, if you want to use a column from your dataset as an input for, say, colour, you need to specify this with <code>aes()</code>:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="Static_Maps.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gemeinde_zh) <span class="sc">+</span> </span>
<span id="cb14-2"><a href="Static_Maps.html#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> bezirksnam))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<p>To change the default graticules from WGS84 to a custom Coordinate System, we can use the argument <code>datum</code> in <code>coord_sf</code> and call the EPSG Code of our desired coordinate system.</p>
<p>//todo add chapter on CRS
//body ArcGIS Users are usually not familiar with ESPG Codes, we should provide an introduction somewhere and reference this here.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="Static_Maps.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gemeinde_zh) <span class="sc">+</span> </span>
<span id="cb15-2"><a href="Static_Maps.html#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> bezirksnam)) <span class="sc">+</span></span>
<span id="cb15-3"><a href="Static_Maps.html#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_sf</span>(<span class="at">datum =</span> <span class="dv">2056</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<p>How we can use our standard <code>ggplot2</code> methods to polish this plot:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="Static_Maps.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gemeinde_zh) <span class="sc">+</span> </span>
<span id="cb16-2"><a href="Static_Maps.html#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> bezirksnam), <span class="at">colour =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span></span>
<span id="cb16-3"><a href="Static_Maps.html#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Gemeinden des Kantons Zürich nach Bezirk&quot;</span>,<span class="at">fill =</span> <span class="st">&quot;&quot;</span>) <span class="sc">+</span></span>
<span id="cb16-4"><a href="Static_Maps.html#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb16-5"><a href="Static_Maps.html#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
</div>
<div id="raster-objects" class="section level4" number="3.1.1.2">
<h4><span class="header-section-number">3.1.1.2</span> <code>raster</code> objects</h4>
<p>//todo use a raster object with the same extent as the sf object</p>
<p>While <code>sf</code> objects are very easily integrated in ggplot2, raster data is a little harder. There are various ways to plot a raster object with <code>ggplot2</code>. A simple, adhoc approach is converting the <code>RasterLayer</code> object into a <code>data.frame</code> and then plotting it with <code>geom_raster</code>.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="Static_Maps.html#cb17-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-2"><a href="Static_Maps.html#cb17-2" aria-hidden="true" tabindex="-1"></a>swissAlti3D_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(swissAlti3D,<span class="at">xy =</span> <span class="cn">TRUE</span>) <span class="co"># xy = TRUE adds the x and y coordinates to our dataframe as columns</span></span>
<span id="cb17-3"><a href="Static_Maps.html#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="Static_Maps.html#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Note the column names of our dataframe</span></span>
<span id="cb17-5"><a href="Static_Maps.html#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(swissAlti3D_df)</span>
<span id="cb17-6"><a href="Static_Maps.html#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="do">##         x       y SWISSALTI3D_10_TIFF_CHLV95_LN02_2600_1196</span></span>
<span id="cb17-7"><a href="Static_Maps.html#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 1 2600005 1196995                                  673.6359</span></span>
<span id="cb17-8"><a href="Static_Maps.html#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 2 2600015 1196995                                  673.6822</span></span>
<span id="cb17-9"><a href="Static_Maps.html#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 3 2600025 1196995                                  674.3226</span></span>
<span id="cb17-10"><a href="Static_Maps.html#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 4 2600035 1196995                                  675.7197</span></span>
<span id="cb17-11"><a href="Static_Maps.html#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 5 2600045 1196995                                  679.8717</span></span>
<span id="cb17-12"><a href="Static_Maps.html#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 6 2600055 1196995                                  684.2903</span></span>
<span id="cb17-13"><a href="Static_Maps.html#cb17-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-14"><a href="Static_Maps.html#cb17-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-15"><a href="Static_Maps.html#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(swissAlti3D_df, <span class="fu">aes</span>(x, y, <span class="at">fill =</span> SWISSALTI3D_10_TIFF_CHLV95_LN02_2600_1196)) <span class="sc">+</span></span>
<span id="cb17-16"><a href="Static_Maps.html#cb17-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_raster</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
<p>Note that this approach, <code>ggplot</code> is not aware of the coordinate system assigned to our dataset. The <code>x</code> and <code>y</code> coordinates from our dataframe are assumed to be in a cartesian coordinate system. This implies two things:</p>
<ol style="list-style-type: decimal">
<li>This approach only works with datasets in a projected coordinate system (where the raster is assumed to be on a plane)</li>
<li>We have to specify that the coordinate system in the two direction are equal with <code>cord_equal()</code> (<code>coord_sf()</code> will not work if we don’t have any <code>sf</code> objects)</li>
</ol>
<p>//todo add example of WGS84 raster</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="Static_Maps.html#cb18-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-2"><a href="Static_Maps.html#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(swissAlti3D_df, <span class="fu">aes</span>(x, y, <span class="at">fill =</span> SWISSALTI3D_10_TIFF_CHLV95_LN02_2600_1196)) <span class="sc">+</span></span>
<span id="cb18-3"><a href="Static_Maps.html#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_raster</span>() <span class="sc">+</span></span>
<span id="cb18-4"><a href="Static_Maps.html#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_c</span>() <span class="sc">+</span></span>
<span id="cb18-5"><a href="Static_Maps.html#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb18-6"><a href="Static_Maps.html#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_equal</span>() <span class="sc">+</span></span>
<span id="cb18-7"><a href="Static_Maps.html#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<p>//todo combine sf and raster
//body add an example of how sf and raster can be layered. This needs an additional dataset.</p>
</div>
</div>
<div id="package-tmap" class="section level3" number="3.1.2">
<h3><span class="header-section-number">3.1.2</span> Package <code id="static-maps-tmap">tmap</code></h3>
<p>While <code>ggplot2</code> was extended to work with spatial data, the package <code>tmap</code> was specifically designed to create maps. The developer created this package leaning on the “grammar of graphics” approach which is also implemented in <code>ggplot2</code>, so many of the concepts are the same (e.g. the concept of “layers” and using the <code>+</code>-sign). One main difference is that <code>tmap</code> does not use NSE, so column names always need to be quoted.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="Static_Maps.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tmap)</span>
<span id="cb19-2"><a href="Static_Maps.html#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_mode</span>(<span class="st">&quot;plot&quot;</span>) <span class="co"># &lt;- to create static plots</span></span>
<span id="cb19-3"><a href="Static_Maps.html#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="do">## tmap mode set to plotting</span></span>
<span id="cb19-4"><a href="Static_Maps.html#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="Static_Maps.html#cb19-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-6"><a href="Static_Maps.html#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(gemeinde_zh) <span class="sc">+</span> </span>
<span id="cb19-7"><a href="Static_Maps.html#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_polygons</span>(<span class="at">col =</span> <span class="st">&quot;bezirksnam&quot;</span>) </span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<p>The fact that <code>tmap</code> is designed for maps makes it much easier to add map elements, such as a North Arrow.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="Static_Maps.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(gemeinde_zh) <span class="sc">+</span> </span>
<span id="cb20-2"><a href="Static_Maps.html#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_polygons</span>(<span class="at">col =</span> <span class="st">&quot;bezirksnam&quot;</span>)  <span class="sc">+</span></span>
<span id="cb20-3"><a href="Static_Maps.html#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_compass</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
<p>It also means that visualizing a <code>RasterLayer</code> is built in to the package:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="Static_Maps.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(swissAlti3D) <span class="sc">+</span></span>
<span id="cb21-2"><a href="Static_Maps.html#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_raster</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
<p>The most amazing thing about <code>tmap</code> probably is <code>tmap_mode("view")</code>. Run this code and then the two chunks above, you will be amazed. Learn more about this in chapter <a href="Dynamic_Maps.html#interactive-maps">Interactive Maps</a>.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="Making_Maps.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="Dynamic_Maps.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
},
"css": "css/style.css"
});
});
</script>

</body>

</html>
