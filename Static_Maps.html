<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3.1 Static Maps | All things R Spatial</title>
  <meta name="description" content="3.1 Static Maps | All things R Spatial" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="3.1 Static Maps | All things R Spatial" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3.1 Static Maps | All things R Spatial" />
  
  
  

<meta name="author" content="Nils Ratnaweera and Nikolaos Bakogiannis" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="Making_Maps.html"/>
<link rel="next" href="Dynamic_Maps.html"/>
<script src="libs/header-attrs-2.7/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.0.4.1/leaflet-providers-plugin.js"></script>
<script src="libs/FlatGeoBuf-3.3.3/fgb.js"></script>
<script src="libs/FlatGeoBuf-3.3.3/flatgeobuf-geojson.min.js"></script>
<script src="libs/chromajs-2.1.0/chroma.min.js"></script>
<link id="gemeindegrenzen_zh-1-attachment" rel="attachment" href="libs/gemeindegrenzen_zh-0.0.1/gemeindegrenzen_zh_layer.fgb"/>
<link href="libs/HomeButton-0.0.1/home-button.css" rel="stylesheet" />
<script src="libs/HomeButton-0.0.1/home-button.js"></script>
<script src="libs/HomeButton-0.0.1/easy-button-src.min.js"></script>
<script src="libs/clipboard-0.0.1/setClipboardText.js"></script>
<link href="libs/mapviewCSS-0.0.1/mapview-popup.css" rel="stylesheet" />
<link href="libs/mapviewCSS-0.0.1/mapview.css" rel="stylesheet" />
<script src="libs/d3-4.5.0/d3.min.js"></script>
<script src="libs/diagonalNetwork-binding-0.4/diagonalNetwork.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://arc2r.github.io/arc2r">Package Website</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome!</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#what-this-book-is-about"><i class="fa fa-check"></i><b>1.1</b> What this book is about</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#how-it-started"><i class="fa fa-check"></i><b>1.2</b> How it started</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#difficulties"><i class="fa fa-check"></i><b>1.3</b> What might make your journey difficult</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#why-you-should-transition-anyway"><i class="fa fa-check"></i><b>1.4</b> Why you should transition anyway</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#how-to-use-this-book"><i class="fa fa-check"></i><b>1.5</b> How to use this book</a></li>
</ul></li>
<li class="part"><span><b>I Introduction</b></span></li>
<li class="chapter" data-level="2" data-path="Data.html"><a href="Data.html"><i class="fa fa-check"></i><b>2</b> Data Handling (I/O)</a>
<ul>
<li class="chapter" data-level="2.1" data-path="import_vector.html"><a href="import_vector.html"><i class="fa fa-check"></i><b>2.1</b> Importing vector data with <code>sf</code></a></li>
<li class="chapter" data-level="2.2" data-path="import_raster_raster.html"><a href="import_raster_raster.html"><i class="fa fa-check"></i><b>2.2</b> Importing raster data with <code>raster</code></a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="import_raster_raster.html"><a href="import_raster_raster.html#single-band-raster"><i class="fa fa-check"></i><b>2.2.1</b> Single band raster</a></li>
<li class="chapter" data-level="2.2.2" data-path="import_raster_raster.html"><a href="import_raster_raster.html#multiband-raster"><i class="fa fa-check"></i><b>2.2.2</b> Multiband Raster</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="import_raster_terra.html"><a href="import_raster_terra.html"><i class="fa fa-check"></i><b>2.3</b> Importing raster data with <code>terra</code></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="Making_Maps.html"><a href="Making_Maps.html"><i class="fa fa-check"></i><b>3</b> Making Maps</a>
<ul>
<li class="chapter" data-level="3.1" data-path="Static_Maps.html"><a href="Static_Maps.html"><i class="fa fa-check"></i><b>3.1</b> Static Maps</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="Static_Maps.html"><a href="Static_Maps.html#package-ggplot2"><i class="fa fa-check"></i><b>3.1.1</b> Package <code>ggplot2</code></a></li>
<li class="chapter" data-level="3.1.2" data-path="Static_Maps.html"><a href="Static_Maps.html#package-tmap"><i class="fa fa-check"></i><b>3.1.2</b> Package <code id="static-maps-tmap">tmap</code></a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="Dynamic_Maps.html"><a href="Dynamic_Maps.html"><i class="fa fa-check"></i><b>3.2</b> Interactive Maps</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="Dynamic_Maps.html"><a href="Dynamic_Maps.html#package-mapview"><i class="fa fa-check"></i><b>3.2.1</b> Package <code>mapview</code></a></li>
<li class="chapter" data-level="3.2.2" data-path="Dynamic_Maps.html"><a href="Dynamic_Maps.html#package-tmap-1"><i class="fa fa-check"></i><b>3.2.2</b> Package <code>tmap</code></a></li>
<li class="chapter" data-level="3.2.3" data-path="Dynamic_Maps.html"><a href="Dynamic_Maps.html#further-ressources"><i class="fa fa-check"></i><b>3.2.3</b> Further ressources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="Select.html"><a href="Select.html"><i class="fa fa-check"></i><b>4</b> Selection</a>
<ul>
<li class="chapter" data-level="4.1" data-path="Select_by_Attribute.html"><a href="Select_by_Attribute.html"><i class="fa fa-check"></i><b>4.1</b> Select by Attribute</a></li>
<li class="chapter" data-level="4.2" data-path="Select_by_Location.html"><a href="Select_by_Location.html"><i class="fa fa-check"></i><b>4.2</b> Select by Location</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="Select_by_Location.html"><a href="Select_by_Location.html#intersect"><i class="fa fa-check"></i><b>4.2.1</b> Intersect</a></li>
<li class="chapter" data-level="4.2.2" data-path="Select_by_Location.html"><a href="Select_by_Location.html#intersect_3d"><i class="fa fa-check"></i><b>4.2.2</b> Intersect_3d</a></li>
<li class="chapter" data-level="4.2.3" data-path="Select_by_Location.html"><a href="Select_by_Location.html#within_a_distance"><i class="fa fa-check"></i><b>4.2.3</b> Within_a_distance</a></li>
<li class="chapter" data-level="4.2.4" data-path="Select_by_Location.html"><a href="Select_by_Location.html#within_a_distance_3d"><i class="fa fa-check"></i><b>4.2.4</b> Within_a_distance_3d</a></li>
<li class="chapter" data-level="4.2.5" data-path="Select_by_Location.html"><a href="Select_by_Location.html#within_a_distance_geodesic"><i class="fa fa-check"></i><b>4.2.5</b> Within_a_distance_geodesic</a></li>
<li class="chapter" data-level="4.2.6" data-path="Select_by_Location.html"><a href="Select_by_Location.html#contains"><i class="fa fa-check"></i><b>4.2.6</b> Contains</a></li>
<li class="chapter" data-level="4.2.7" data-path="Select_by_Location.html"><a href="Select_by_Location.html#completely_contains"><i class="fa fa-check"></i><b>4.2.7</b> Completely_contains</a></li>
<li class="chapter" data-level="4.2.8" data-path="Select_by_Location.html"><a href="Select_by_Location.html#contains_clementini"><i class="fa fa-check"></i><b>4.2.8</b> Contains_clementini</a></li>
<li class="chapter" data-level="4.2.9" data-path="Select_by_Location.html"><a href="Select_by_Location.html#within"><i class="fa fa-check"></i><b>4.2.9</b> Within</a></li>
<li class="chapter" data-level="4.2.10" data-path="Select_by_Location.html"><a href="Select_by_Location.html#completely_within"><i class="fa fa-check"></i><b>4.2.10</b> Completely_within</a></li>
<li class="chapter" data-level="4.2.11" data-path="Select_by_Location.html"><a href="Select_by_Location.html#within_clementini"><i class="fa fa-check"></i><b>4.2.11</b> Within_clementini</a></li>
<li class="chapter" data-level="4.2.12" data-path="Select_by_Location.html"><a href="Select_by_Location.html#are_identical_to"><i class="fa fa-check"></i><b>4.2.12</b> Are_identical_to</a></li>
<li class="chapter" data-level="4.2.13" data-path="Select_by_Location.html"><a href="Select_by_Location.html#boundary_touches"><i class="fa fa-check"></i><b>4.2.13</b> Boundary_touches</a></li>
<li class="chapter" data-level="4.2.14" data-path="Select_by_Location.html"><a href="Select_by_Location.html#share_a_line_segment_with"><i class="fa fa-check"></i><b>4.2.14</b> Share_a_line_segment_with</a></li>
<li class="chapter" data-level="4.2.15" data-path="Select_by_Location.html"><a href="Select_by_Location.html#crossed_by_the_outline_of"><i class="fa fa-check"></i><b>4.2.15</b> Crossed_by_the_outline_of</a></li>
<li class="chapter" data-level="4.2.16" data-path="Select_by_Location.html"><a href="Select_by_Location.html#have_their_center_in"><i class="fa fa-check"></i><b>4.2.16</b> Have_their_center_in</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Geoprocessing Tools</b></span></li>
<li class="chapter" data-level="5" data-path="20_Geoprocessing_Tools.html"><a href="20_Geoprocessing_Tools.html"><i class="fa fa-check"></i><b>5</b> About this Section</a></li>
<li class="chapter" data-level="6" data-path="Analysis.html"><a href="Analysis.html"><i class="fa fa-check"></i><b>6</b> Analysis Toolbox</a>
<ul>
<li class="chapter" data-level="6.1" data-path="Extract.html"><a href="Extract.html"><i class="fa fa-check"></i><b>6.1</b> Extract Toolset</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="Extract.html"><a href="Extract.html#clip"><i class="fa fa-check"></i><b>6.1.1</b> Clip</a></li>
<li class="chapter" data-level="6.1.2" data-path="Extract.html"><a href="Extract.html#select"><i class="fa fa-check"></i><b>6.1.2</b> Select</a></li>
<li class="chapter" data-level="6.1.3" data-path="Extract.html"><a href="Extract.html#split"><i class="fa fa-check"></i><b>6.1.3</b> Split</a></li>
<li class="chapter" data-level="6.1.4" data-path="Extract.html"><a href="Extract.html#split-by-attributes"><i class="fa fa-check"></i><b>6.1.4</b> Split by Attributes</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="Overlay.html"><a href="Overlay.html"><i class="fa fa-check"></i><b>6.2</b> Overlay Toolset</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="Overlay.html"><a href="Overlay.html#spatial-join"><i class="fa fa-check"></i><b>6.2.1</b> Spatial Join</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="Proximity.html"><a href="Proximity.html"><i class="fa fa-check"></i><b>6.3</b> Proximity Toolset</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="Proximity.html"><a href="Proximity.html#buffer"><i class="fa fa-check"></i><b>6.3.1</b> Buffer</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="Data_Management.html"><a href="Data_Management.html"><i class="fa fa-check"></i><b>7</b> Data Management Toolbox</a>
<ul>
<li class="chapter" data-level="7.1" data-path="General.html"><a href="General.html"><i class="fa fa-check"></i><b>7.1</b> General Toolset</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="General.html"><a href="General.html#sort"><i class="fa fa-check"></i><b>7.1.1</b> Sort</a></li>
<li class="chapter" data-level="7.1.2" data-path="General.html"><a href="General.html#rename"><i class="fa fa-check"></i><b>7.1.2</b> Rename</a></li>
<li class="chapter" data-level="7.1.3" data-path="General.html"><a href="General.html#merge"><i class="fa fa-check"></i><b>7.1.3</b> Merge</a></li>
<li class="chapter" data-level="7.1.4" data-path="General.html"><a href="General.html#dissolve"><i class="fa fa-check"></i><b>7.1.4</b> Dissolve</a></li>
<li class="chapter" data-level="7.1.5" data-path="General.html"><a href="General.html#find-identical"><i class="fa fa-check"></i><b>7.1.5</b> Find Identical</a></li>
<li class="chapter" data-level="7.1.6" data-path="General.html"><a href="General.html#append"><i class="fa fa-check"></i><b>7.1.6</b> Append</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="Join.html"><a href="Join.html"><i class="fa fa-check"></i><b>7.2</b> Joins and Relates Toolset</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="Join.html"><a href="Join.html#inner-join"><i class="fa fa-check"></i><b>7.2.1</b> Inner join</a></li>
<li class="chapter" data-level="7.2.2" data-path="Join.html"><a href="Join.html#outer-join"><i class="fa fa-check"></i><b>7.2.2</b> Outer join</a></li>
<li class="chapter" data-level="7.2.3" data-path="Join.html"><a href="Join.html#left-right-join"><i class="fa fa-check"></i><b>7.2.3</b> Left / Right join</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="Projections_and_Transformations.html"><a href="Projections_and_Transformations.html"><i class="fa fa-check"></i><b>7.3</b> Projections and Transformations Toolset</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="Projections_and_Transformations.html"><a href="Projections_and_Transformations.html#define-projection"><i class="fa fa-check"></i><b>7.3.1</b> Define Projection</a></li>
<li class="chapter" data-level="7.3.2" data-path="Projections_and_Transformations.html"><a href="Projections_and_Transformations.html#project"><i class="fa fa-check"></i><b>7.3.2</b> Project</a></li>
<li class="chapter" data-level="7.3.3" data-path="Projections_and_Transformations.html"><a href="Projections_and_Transformations.html#project-raster"><i class="fa fa-check"></i><b>7.3.3</b> Project Raster</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="Raster_Processing.html"><a href="Raster_Processing.html"><i class="fa fa-check"></i><b>7.4</b> Raster Processing Toolset</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="Raster_Processing.html"><a href="Raster_Processing.html#clip-raster"><i class="fa fa-check"></i><b>7.4.1</b> Clip Raster</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="Sampling.html"><a href="Sampling.html"><i class="fa fa-check"></i><b>7.5</b> Sampling Toolset</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="Sampling.html"><a href="Sampling.html#generate-tessellation"><i class="fa fa-check"></i><b>7.5.1</b> Generate Tessellation</a></li>
<li class="chapter" data-level="7.5.2" data-path="Sampling.html"><a href="Sampling.html#create-fishnet"><i class="fa fa-check"></i><b>7.5.2</b> Create Fishnet</a></li>
<li class="chapter" data-level="7.5.3" data-path="Sampling.html"><a href="Sampling.html#create-random-points"><i class="fa fa-check"></i><b>7.5.3</b> Create Random Points</a></li>
<li class="chapter" data-level="7.5.4" data-path="Sampling.html"><a href="Sampling.html#generate-points-along-lines"><i class="fa fa-check"></i><b>7.5.4</b> Generate Points Along Lines</a></li>
<li class="chapter" data-level="7.5.5" data-path="Sampling.html"><a href="Sampling.html#generate-rectangles-along-lines"><i class="fa fa-check"></i><b>7.5.5</b> Generate Rectangles Along Lines</a></li>
<li class="chapter" data-level="7.5.6" data-path="Sampling.html"><a href="Sampling.html#generate-transects-along-lines"><i class="fa fa-check"></i><b>7.5.6</b> Generate Transects Along Lines</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="Spatial_Analyst.html"><a href="Spatial_Analyst.html"><i class="fa fa-check"></i><b>8</b> Spatial Analyst Toolbox</a>
<ul>
<li class="chapter" data-level="8.1" data-path="Neighborhood.html"><a href="Neighborhood.html"><i class="fa fa-check"></i><b>8.1</b> Neighborhood toolset</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="Neighborhood.html"><a href="Neighborhood.html#focal-statistics"><i class="fa fa-check"></i><b>8.1.1</b> Focal Statistics</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="Zonal.html"><a href="Zonal.html"><i class="fa fa-check"></i><b>8.2</b> Zonal toolset</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="Zonal.html"><a href="Zonal.html#zonal-statistics"><i class="fa fa-check"></i><b>8.2.1</b> Zonal Statistics</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="Reclass.html"><a href="Reclass.html"><i class="fa fa-check"></i><b>8.3</b> Reclass Toolset</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="Reclass.html"><a href="Reclass.html#reclassify"><i class="fa fa-check"></i><b>8.3.1</b> Reclassify</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="Density.html"><a href="Density.html"><i class="fa fa-check"></i><b>8.4</b> Density Toolset</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="Density.html"><a href="Density.html#kernel-density"><i class="fa fa-check"></i><b>8.4.1</b> Kernel Density</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="Surface.html"><a href="Surface.html"><i class="fa fa-check"></i><b>8.5</b> Surface Toolset</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="Surface.html"><a href="Surface.html#slope-and-aspect"><i class="fa fa-check"></i><b>8.5.1</b> Slope and Aspect</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="Spatial_Statistics.html"><a href="Spatial_Statistics.html"><i class="fa fa-check"></i><b>9</b> Spatial Statistics Toolbox</a>
<ul>
<li class="chapter" data-level="9.1" data-path="Analysing_Patterns.html"><a href="Analysing_Patterns.html"><i class="fa fa-check"></i><b>9.1</b> Analysing Patterns Toolset</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="Analysing_Patterns.html"><a href="Analysing_Patterns.html#spatial-autocorrelation-global-morans-i"><i class="fa fa-check"></i><b>9.1.1</b> Spatial Autocorrelation (Global Morans I)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="Image_Analyst.html"><a href="Image_Analyst.html"><i class="fa fa-check"></i><b>10</b> Image Analyst Toolbox</a>
<ul>
<li class="chapter" data-level="10.1" data-path="Map_Algebra.html"><a href="Map_Algebra.html"><i class="fa fa-check"></i><b>10.1</b> Map Algebra Toolset</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="Map_Algebra.html"><a href="Map_Algebra.html#raster-calulator"><i class="fa fa-check"></i><b>10.1.1</b> Raster Calulator</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="3D_Analyst.html"><a href="3D_Analyst.html"><i class="fa fa-check"></i><b>11</b> 3D Analyst Toolbox</a>
<ul>
<li class="chapter" data-level="11.1" data-path="Raster_Interpolation.html"><a href="Raster_Interpolation.html"><i class="fa fa-check"></i><b>11.1</b> Raster Interpolation Toolset</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="Raster_Interpolation.html"><a href="Raster_Interpolation.html#idw"><i class="fa fa-check"></i><b>11.1.1</b> IDW</a></li>
<li class="chapter" data-level="11.1.2" data-path="Raster_Interpolation.html"><a href="Raster_Interpolation.html#kriging"><i class="fa fa-check"></i><b>11.1.2</b> Kriging</a></li>
<li class="chapter" data-level="11.1.3" data-path="Raster_Interpolation.html"><a href="Raster_Interpolation.html#natural-neighbor"><i class="fa fa-check"></i><b>11.1.3</b> Natural Neighbor</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Topology</b></span></li>
<li class="chapter" data-level="12" data-path="30_Topology.html"><a href="30_Topology.html"><i class="fa fa-check"></i><b>12</b> About this section</a></li>
<li class="chapter" data-level="13" data-path="Spatial_Predicates.html"><a href="Spatial_Predicates.html"><i class="fa fa-check"></i><b>13</b> Spatial Predicates</a>
<ul>
<li class="chapter" data-level="13.0.1" data-path="Spatial_Predicates.html"><a href="Spatial_Predicates.html#touches"><i class="fa fa-check"></i><b>13.0.1</b> Touches</a></li>
<li class="chapter" data-level="13.0.2" data-path="Spatial_Predicates.html"><a href="Spatial_Predicates.html#custom-relationships"><i class="fa fa-check"></i><b>13.0.2</b> Custom relationships</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="Topology_Rules.html"><a href="Topology_Rules.html"><i class="fa fa-check"></i><b>14</b> Topology Rules</a>
<ul>
<li class="chapter" data-level="14.1" data-path="Polygon.html"><a href="Polygon.html"><i class="fa fa-check"></i><b>14.1</b> Polygon</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="Polygon.html"><a href="Polygon.html#must-not-overlap"><i class="fa fa-check"></i><b>14.1.1</b> Must not overlap</a></li>
<li class="chapter" data-level="14.1.2" data-path="Polygon.html"><a href="Polygon.html#must-not-have-gaps"><i class="fa fa-check"></i><b>14.1.2</b> Must not have gaps</a></li>
<li class="chapter" data-level="14.1.3" data-path="Polygon.html"><a href="Polygon.html#contains-point"><i class="fa fa-check"></i><b>14.1.3</b> Contains point</a></li>
<li class="chapter" data-level="14.1.4" data-path="Polygon.html"><a href="Polygon.html#contains-one-point"><i class="fa fa-check"></i><b>14.1.4</b> Contains one Point</a></li>
<li class="chapter" data-level="14.1.5" data-path="Polygon.html"><a href="Polygon.html#must-be-covered-by-feature-class-of"><i class="fa fa-check"></i><b>14.1.5</b> Must be covered by feature class of</a></li>
<li class="chapter" data-level="14.1.6" data-path="Polygon.html"><a href="Polygon.html#boundary-must-be-covered-by"><i class="fa fa-check"></i><b>14.1.6</b> Boundary must be covered by</a></li>
<li class="chapter" data-level="14.1.7" data-path="Polygon.html"><a href="Polygon.html#must-not-overlap-with"><i class="fa fa-check"></i><b>14.1.7</b> Must not overlap with</a></li>
<li class="chapter" data-level="14.1.8" data-path="Polygon.html"><a href="Polygon.html#must-be-covered-by"><i class="fa fa-check"></i><b>14.1.8</b> Must be covered by</a></li>
<li class="chapter" data-level="14.1.9" data-path="Polygon.html"><a href="Polygon.html#area-boundary-must-be-covered-by-boundary-of"><i class="fa fa-check"></i><b>14.1.9</b> Area boundary must be covered by boundary of</a></li>
<li class="chapter" data-level="14.1.10" data-path="Polygon.html"><a href="Polygon.html#must-cover-each-other"><i class="fa fa-check"></i><b>14.1.10</b> Must cover each other</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="Line.html"><a href="Line.html"><i class="fa fa-check"></i><b>14.2</b> Line</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="Line.html"><a href="Line.html#must-not-have-pseudo-nodes"><i class="fa fa-check"></i><b>14.2.1</b> Must not have pseudo nodes</a></li>
<li class="chapter" data-level="14.2.2" data-path="Line.html"><a href="Line.html#must-not-have-dangles"><i class="fa fa-check"></i><b>14.2.2</b> Must not have dangles</a></li>
<li class="chapter" data-level="14.2.3" data-path="Line.html"><a href="Line.html#must-not-self-overlap"><i class="fa fa-check"></i><b>14.2.3</b> Must not self overlap</a></li>
<li class="chapter" data-level="14.2.4" data-path="Line.html"><a href="Line.html#must-not-overlap-1"><i class="fa fa-check"></i><b>14.2.4</b> Must not overlap</a></li>
<li class="chapter" data-level="14.2.5" data-path="Line.html"><a href="Line.html#must-not-self-intersect"><i class="fa fa-check"></i><b>14.2.5</b> Must not self-intersect</a></li>
<li class="chapter" data-level="14.2.6" data-path="Line.html"><a href="Line.html#must-not-intersect"><i class="fa fa-check"></i><b>14.2.6</b> Must not intersect</a></li>
<li class="chapter" data-level="14.2.7" data-path="Line.html"><a href="Line.html#must-be-single-part"><i class="fa fa-check"></i><b>14.2.7</b> Must be single part</a></li>
<li class="chapter" data-level="14.2.8" data-path="Line.html"><a href="Line.html#must-not-intersect-with"><i class="fa fa-check"></i><b>14.2.8</b> Must not intersect with</a></li>
<li class="chapter" data-level="14.2.9" data-path="Line.html"><a href="Line.html#must-be-covered-by-feature-class-of-1"><i class="fa fa-check"></i><b>14.2.9</b> Must be covered by feature class of</a></li>
<li class="chapter" data-level="14.2.10" data-path="Line.html"><a href="Line.html#must-not-intersect-or-touch-interior"><i class="fa fa-check"></i><b>14.2.10</b> Must not intersect or touch interior</a></li>
<li class="chapter" data-level="14.2.11" data-path="Line.html"><a href="Line.html#must-be-covered-by-boundary-of"><i class="fa fa-check"></i><b>14.2.11</b> Must be covered by boundary of</a></li>
<li class="chapter" data-level="14.2.12" data-path="Line.html"><a href="Line.html#must-not-intersect-or-touch-interior-with"><i class="fa fa-check"></i><b>14.2.12</b> Must not intersect or touch interior with</a></li>
<li class="chapter" data-level="14.2.13" data-path="Line.html"><a href="Line.html#must-be-properly-inside"><i class="fa fa-check"></i><b>14.2.13</b> Must be properly inside</a></li>
<li class="chapter" data-level="14.2.14" data-path="Line.html"><a href="Line.html#must-not-overlap-with-1"><i class="fa fa-check"></i><b>14.2.14</b> Must not overlap with</a></li>
<li class="chapter" data-level="14.2.15" data-path="Line.html"><a href="Line.html#endpoint-must-be-covered-by"><i class="fa fa-check"></i><b>14.2.15</b> Endpoint must be covered by</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="Point.html"><a href="Point.html"><i class="fa fa-check"></i><b>14.3</b> Point</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="Point.html"><a href="Point.html#must-coincide-with"><i class="fa fa-check"></i><b>14.3.1</b> Must coincide with</a></li>
<li class="chapter" data-level="14.3.2" data-path="Point.html"><a href="Point.html#must-be-disjoint"><i class="fa fa-check"></i><b>14.3.2</b> Must be disjoint</a></li>
<li class="chapter" data-level="14.3.3" data-path="Point.html"><a href="Point.html#must-be-covered-by-endpoint-of"><i class="fa fa-check"></i><b>14.3.3</b> Must be covered by endpoint of</a></li>
<li class="chapter" data-level="14.3.4" data-path="Point.html"><a href="Point.html#point-must-be-covered-by-line"><i class="fa fa-check"></i><b>14.3.4</b> Point must be covered by line</a></li>
<li class="chapter" data-level="14.3.5" data-path="Point.html"><a href="Point.html#must-be-properly-inside-1"><i class="fa fa-check"></i><b>14.3.5</b> Must be properly inside</a></li>
<li class="chapter" data-level="14.3.6" data-path="Point.html"><a href="Point.html#must-be-covered-by-boundary-of-1"><i class="fa fa-check"></i><b>14.3.6</b> Must be covered by boundary of</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="Line_or_Polygon.html"><a href="Line_or_Polygon.html"><i class="fa fa-check"></i><b>14.4</b> Line or Polygon</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="Line_or_Polygon.html"><a href="Line_or_Polygon.html#must-be-larger-than-cluster-tolarance"><i class="fa fa-check"></i><b>14.4.1</b> Must be larger than cluster tolarance</a></li>
</ul></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="Progress.html"><a href="Progress.html"><i class="fa fa-check"></i><b>A</b> Progress</a></li>
<li class="divider"></li>
<li><a href="https://www.zhaw.ch/en/about-us/person/rata/">Nils Ratnaweera</a></li>
<li><a href="https://www.zhaw.ch/en/about-us/person/bako/"> Nikolaos Bakogiannis </a></li>
<li><a href="https://www.zhaw.ch/de/lsfm/institute-zentren/iunr/ecosystems-and-biodiversity/geoinformatik/">
GIS @ ZHAW</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">All things R Spatial</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="chapter-staticmaps" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Static Maps</h2>
<p>For this chapter, you will need the following packages and datasets:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="Static_Maps.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(arc2r) </span>
<span id="cb13-2"><a href="Static_Maps.html#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb13-3"><a href="Static_Maps.html#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(raster)</span>
<span id="cb13-4"><a href="Static_Maps.html#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb13-5"><a href="Static_Maps.html#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="Static_Maps.html#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;gemeindegrenzen_zh&quot;</span>)</span>
<span id="cb13-7"><a href="Static_Maps.html#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;swissAlti3D&quot;</span>)</span></code></pre></div>
<p>As we saw in chapter <a href="import_vector.html#importing-vector-sf">2.1</a>, we can quickly visualize an <code>sf</code> object by simply calling <code>plot</code>. This will return a small multiple of your geodata, where each facet is colour coded based on a column.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="Static_Maps.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(gemeindegrenzen_zh)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<p>You will get one facet for each column, where the maximum number of facets is set to 9 by default. I find this behaviour pretty annoying, since I usually just want get a <em>quick</em> look at the data in space, and these small multiples take ages to render. There are several workarounds to prevent small multiples:</p>
<ol style="list-style-type: decimal">
<li>Extract the geometry from the <code>sf</code> object and just plot that</li>
<li>Specify the column which should colourcode your data</li>
<li>Specify <code>max.plot = 1</code> to just plot 1 facet (using the first column in your dataset for colour coding)</li>
<li>Set the option <code>sf_max.plot</code> to 1 with <code>Option(sf_max.plot = 1)</code> (this will persist throughout your <code>R</code> Session)</li>
</ol>
<!--
/ todo: add description how this can be added to the .Renviron / .Rprofile
/  assignees: ratnanil
-->
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="Static_Maps.html#cb15-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-2"><a href="Static_Maps.html#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(gemeindegrenzen_zh))  <span class="co"># 1</span></span>
<span id="cb15-3"><a href="Static_Maps.html#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(gemeindegrenzen_zh[<span class="st">&quot;BEZIRKSNAME&quot;</span>]) <span class="co"># 2</span></span>
<span id="cb15-4"><a href="Static_Maps.html#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(gemeindegrenzen_zh, <span class="at">max.plot =</span> <span class="dv">1</span>) <span class="co"># 3</span></span>
<span id="cb15-5"><a href="Static_Maps.html#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="Static_Maps.html#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">sf_max.plot =</span> <span class="dv">1</span>)        <span class="co"># 4</span></span>
<span id="cb15-7"><a href="Static_Maps.html#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(gemeindegrenzen_zh)</span></code></pre></div>
<p>We dont have the “problem” of facets with raster data, so we can simply call <code>plot()</code> on a raster object to visualize it.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="Static_Maps.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(swissAlti3D)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<p>The <code>plot()</code> method is fine for quick view of the data, but as you want to add more layers, legend etc. <code>plot()</code> becomes complicated. There are many alternative methods to visualizing spatial data, we will showcase our favourite methods here.</p>
<div id="package-ggplot2" class="section level3" number="3.1.1">
<h3><span class="header-section-number">3.1.1</span> Package <code>ggplot2</code></h3>
<p>If you are familiar with <code>ggplot2</code> you can rejoice: Plotting <code>sf</code> objects has become <em>very</em> easy with this package. If you do not know this package yet, we recommend you familiarize yourself with it first before diving into this chapter. We will continue to work with the datasets used above</p>
<div id="sf-objects" class="section level4" number="3.1.1.1">
<h4><span class="header-section-number">3.1.1.1</span> <code>sf</code> objects</h4>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="Static_Maps.html#cb17-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-2"><a href="Static_Maps.html#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="Static_Maps.html#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gemeindegrenzen_zh) <span class="sc">+</span></span>
<span id="cb17-4"><a href="Static_Maps.html#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<p>In its most basic form, we can visualize the geometry of our <code>sf</code> object.As always in <code>ggplot2</code>, if you want to use a column from your dataset as an input for, say, colour, you need to specify this with <code>aes()</code>:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="Static_Maps.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gemeindegrenzen_zh) <span class="sc">+</span> </span>
<span id="cb18-2"><a href="Static_Maps.html#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> BEZIRKSNAME))</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
<p>To change the default graticules from WGS84 to a custom Coordinate System, we can use the argument <code>datum</code> in <code>coord_sf</code> and call the EPSG Code of our desired coordinate system.</p>
<!--
/ todo: add chapter on CRS
/  ArcGIS Users are usually not familiar with ESPG Codes, we should provide an introduction somewhere and reference this here.
-->
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="Static_Maps.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gemeindegrenzen_zh) <span class="sc">+</span> </span>
<span id="cb19-2"><a href="Static_Maps.html#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> BEZIRKSNAME)) <span class="sc">+</span></span>
<span id="cb19-3"><a href="Static_Maps.html#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_sf</span>(<span class="at">datum =</span> <span class="dv">2056</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
<p>How we can use our standard <code>ggplot2</code> methods to polish this plot:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="Static_Maps.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gemeindegrenzen_zh) <span class="sc">+</span> </span>
<span id="cb20-2"><a href="Static_Maps.html#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_sf</span>(<span class="fu">aes</span>(<span class="at">fill =</span> BEZIRKSNAME), <span class="at">colour =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span></span>
<span id="cb20-3"><a href="Static_Maps.html#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Gemeinden des Kantons Zürich nach Bezirk&quot;</span>,<span class="at">fill =</span> <span class="st">&quot;&quot;</span>) <span class="sc">+</span></span>
<span id="cb20-4"><a href="Static_Maps.html#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb20-5"><a href="Static_Maps.html#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
</div>
<div id="raster-objects" class="section level4" number="3.1.1.2">
<h4><span class="header-section-number">3.1.1.2</span> <code>raster</code> objects</h4>
<!--
/ todo: use a raster object with the same extent as the sf object
-->
<p>While <code>sf</code> objects are very easily integrated in ggplot2, raster data is a little harder. There are various ways to plot a raster object with <code>ggplot2</code>. A simple, adhoc approach is converting the <code>RasterLayer</code> object into a <code>data.frame</code> and then plotting it with <code>geom_raster</code>.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="Static_Maps.html#cb21-1" aria-hidden="true" tabindex="-1"></a>swissAlti3D_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(swissAlti3D,<span class="at">xy =</span> <span class="cn">TRUE</span>) <span class="co"># xy = TRUE adds the x and y coordinates to our dataframe as columns</span></span>
<span id="cb21-2"><a href="Static_Maps.html#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="Static_Maps.html#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(swissAlti3D_df, <span class="fu">aes</span>(x, y, <span class="at">fill =</span> SWISSALTI3D_10_TIFF_CHLV95_LN02_2600_1196)) <span class="sc">+</span></span>
<span id="cb21-4"><a href="Static_Maps.html#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_raster</span>()</span></code></pre></div>
<p><img src="images/raster_df.png" width="406" /></p>
<p>Note that this approach, <code>ggplot</code> is not aware of the coordinate system assigned to our dataset. The <code>x</code> and <code>y</code> coordinates from our dataframe are assumed to be in a cartesian coordinate system. This implies two things:</p>
<ol style="list-style-type: decimal">
<li>This approach only works with datasets in a projected coordinate system (where the raster is assumed to be on a plane)</li>
<li>We have to specify that the coordinate system in the two direction are equal with <code>cord_equal()</code> (<code>coord_sf()</code> will not work if we don’t have any <code>sf</code> objects)</li>
</ol>
<p>//todo add example of WGS84 raster</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="Static_Maps.html#cb22-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-2"><a href="Static_Maps.html#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(swissAlti3D_df, <span class="fu">aes</span>(x, y, <span class="at">fill =</span> SWISSALTI3D_10_TIFF_CHLV95_LN02_2600_1196)) <span class="sc">+</span></span>
<span id="cb22-3"><a href="Static_Maps.html#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_raster</span>() <span class="sc">+</span></span>
<span id="cb22-4"><a href="Static_Maps.html#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_c</span>() <span class="sc">+</span></span>
<span id="cb22-5"><a href="Static_Maps.html#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb22-6"><a href="Static_Maps.html#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_equal</span>() <span class="sc">+</span></span>
<span id="cb22-7"><a href="Static_Maps.html#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>)</span></code></pre></div>
<p><img src="images/raster_df2.png" width="184" /></p>
<!--
/ todo: combine sf and raster
/  add an example of how sf and raster can be layered. This needs an additional dataset.
-->
</div>
</div>
<div id="package-tmap" class="section level3" number="3.1.2">
<h3><span class="header-section-number">3.1.2</span> Package <code id="static-maps-tmap">tmap</code></h3>
<p>While <code>ggplot2</code> was extended to work with spatial data, the package <code>tmap</code> was specifically designed to create maps. The developer created this package leaning on the “grammar of graphics” approach which is also implemented in <code>ggplot2</code>, so many of the concepts are the same (e.g. the concept of “layers” and using the <code>+</code>-sign). One main difference is that <code>tmap</code> does not use NSE, so column names always need to be quoted.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="Static_Maps.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tmap)</span>
<span id="cb23-2"><a href="Static_Maps.html#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_mode</span>(<span class="st">&quot;plot&quot;</span>) <span class="co"># &lt;- to create static plots</span></span>
<span id="cb23-3"><a href="Static_Maps.html#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="do">## tmap mode set to plotting</span></span>
<span id="cb23-4"><a href="Static_Maps.html#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="Static_Maps.html#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="Static_Maps.html#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(gemeindegrenzen_zh) <span class="sc">+</span> </span>
<span id="cb23-7"><a href="Static_Maps.html#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_polygons</span>(<span class="at">col =</span> <span class="st">&quot;BEZIRKSNAME&quot;</span>) </span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-30-1.png" width="672" /></p>
<p>The fact that <code>tmap</code> is designed for maps makes it much easier to add map elements, such as a North Arrow.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="Static_Maps.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(gemeindegrenzen_zh) <span class="sc">+</span> </span>
<span id="cb24-2"><a href="Static_Maps.html#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_polygons</span>(<span class="at">col =</span> <span class="st">&quot;BEZIRKSNAME&quot;</span>)  <span class="sc">+</span></span>
<span id="cb24-3"><a href="Static_Maps.html#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_compass</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-31-1.png" width="672" /></p>
<p>It also means that visualizing a <code>RasterLayer</code> is built in to the package:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="Static_Maps.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(swissAlti3D) <span class="sc">+</span></span>
<span id="cb25-2"><a href="Static_Maps.html#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_raster</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-32-1.png" width="672" /></p>
<p>The most amazing thing about <code>tmap</code> probably is <code>tmap_mode("view")</code>. Run this code and then the two chunks above, you will be amazed. Learn more about this in chapter <a href="Dynamic_Maps.html#interactive-maps">Interactive Maps</a>.</p>

</div>
</div>
<script src="https://utteranc.es/client.js"
        repo="arc2r/comments"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
            </section>

          </div>
        </div>
      </div>
<a href="Making_Maps.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="Dynamic_Maps.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["github", "twitter", "linkedin"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/arc2r/book/edit/master/12_Making_Maps/Static_Maps.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/arc2r/book/blob/master/12_Making_Maps/Static_Maps.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
